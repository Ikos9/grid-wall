(function(r,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):(r=r||self,r.WallGrid=t())})(this,function(){"use strict";function r(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function t(r,t){return t={exports:{}},r(t,t.exports),t.exports}var e=function(r,t){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)if(t.hasOwnProperty(e))r[e]=t[e]};return e(r,t)};function n(r,t){e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){a=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return a.apply(this,arguments)};function i(r,t){var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0)e[n]=r[n];if(r!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)if(t.indexOf(n[a])<0)e[n[a]]=r[n[a]];return e}var o=function(){o=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return o.apply(this,arguments)};var u=function(r,t){return function(e){return Math.max(Math.min(e,t),r)}};var f=function(r){return function(t){return typeof t==="string"&&t.indexOf(r)===0}};var s=function(r){return r.substring(r.indexOf("(")+1,r.lastIndexOf(")"))};var c=function(r){return typeof r==="string"?r.split(/,\s*/):[r]};var v=function(r){return r%1?Number(r.toFixed(5)):r};var l={test:function(r){return typeof r==="number"},parse:parseFloat,transform:function(r){return r}};var p=o({},l,{transform:u(0,1)});var d=o({},l,{default:1});var h=function(r){return{test:function(t){return typeof t==="string"&&t.endsWith(r)&&t.split(" ").length===1},parse:parseFloat,transform:function(t){return""+t+r}}};var m=h("deg");var g=h("%");var y=h("px");var b=h("vh");var w=h("vw");var O=o({},g,{parse:function(r){return g.parse(r)/100},transform:function(r){return g.transform(r*100)}});var M=u(0,255);var x=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i;var C=function(r){return r.red!==undefined};var S=function(r){return r.hue!==undefined};var A=function(r){var t=r.length;return function(e){if(typeof e!=="string")return e;var n={};var a=c(s(e));for(var i=0;i<t;i++){n[r[i]]=a[i]!==undefined?parseFloat(a[i]):1}return n}};var P=function(r){var t=r.red,e=r.green,n=r.blue,a=r.alpha,i=a===void 0?1:a;return"rgba("+t+", "+e+", "+n+", "+i+")"};var k=function(r){var t=r.hue,e=r.saturation,n=r.lightness,a=r.alpha,i=a===void 0?1:a;return"hsla("+t+", "+e+", "+n+", "+i+")"};var T=o({},l,{transform:function(r){return Math.round(M(r))}});var E=f("rgb");var W={test:function(r){return typeof r==="string"?E(r):C(r)},parse:A(["red","green","blue","alpha"]),transform:function(r){var t=r.red,e=r.green,n=r.blue,a=r.alpha;return P({red:T.transform(t),green:T.transform(e),blue:T.transform(n),alpha:v(a)})}};var L=f("hsl");var R={test:function(r){return typeof r==="string"?L(r):S(r)},parse:A(["hue","saturation","lightness","alpha"]),transform:function(r){var t=r.hue,e=r.saturation,n=r.lightness,a=r.alpha;return k({hue:Math.round(t),saturation:g.transform(v(e)),lightness:g.transform(v(n)),alpha:v(a)})}};var j=o({},W,{test:f("#"),parse:function(r){var t="";var e="";var n="";if(r.length>4){t=r.substr(1,2);e=r.substr(3,2);n=r.substr(5,2)}else{t=r.substr(1,1);e=r.substr(2,1);n=r.substr(3,1);t+=t;e+=e;n+=n}return{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:1}}});var V={test:function(r){return typeof r==="string"&&x.test(r)||W.test(r)||R.test(r)||j.test(r)},parse:function(r){if(W.test(r)){return W.parse(r)}else if(R.test(r)){return R.parse(r)}else if(j.test(r)){return j.parse(r)}return r},transform:function(r){if(C(r)){return W.transform(r)}else if(S(r)){return R.transform(r)}return r}};var H=/(-)?(\d[\d\.]*)/g;var z=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi;var I="${c}";var D="${n}";var Y={test:function(r){if(typeof r!=="string"||!isNaN(r))return false;var t=0;var e=r.match(H);var n=r.match(z);if(e)t+=e.length;if(n)t+=n.length;return t>0},parse:function(r){var t=r;var e=[];var n=t.match(z);if(n){t=t.replace(z,I);e.push.apply(e,n.map(V.parse))}var a=t.match(H);if(a){e.push.apply(e,a.map(l.parse))}return e},createTransformer:function(r){var t=r;var e=0;var n=r.match(z);var a=n?n.length:0;if(n){for(var i=0;i<a;i++){t=t.replace(n[i],I);e++}}var o=t.match(H);var u=o?o.length:0;if(o){for(var i=0;i<u;i++){t=t.replace(o[i],D);e++}}return function(r){var n=t;for(var i=0;i<e;i++){n=n.replace(i<a?I:D,i<a?V.transform(r[i]):v(r[i]))}return n}}};var F=Object.freeze({number:l,scale:d,alpha:p,degrees:m,percent:g,progressPercentage:O,px:y,vw:w,vh:b,rgba:W,rgbUnit:T,hsla:R,hex:j,color:V,complex:Y});var X=function(){};var N=function(){};if(process.env.NODE_ENV!=="production"){X=function(r,t){if(!r&&typeof console!=="undefined"){console.warn(t)}};N=function(r,t){if(!r){throw new Error(t)}}}var B=0;var _=typeof window!=="undefined"&&window.requestAnimationFrame!==undefined?function(r){return window.requestAnimationFrame(r)}:function(r){var t=Date.now();var e=Math.max(0,16.7-(t-B));B=t+e;setTimeout(function(){return r(B)},e)};var q=function(r){var t=[];var e=[];var n=0;var a=false;var i=0;var o=new WeakSet;var u=new WeakSet;var f={cancel:function(r){var t=e.indexOf(r);o.add(r);if(t!==-1){e.splice(t,1)}},process:function(s){var c;a=true;c=[e,t],t=c[0],e=c[1];e.length=0;n=t.length;if(n){var v;for(i=0;i<n;i++){v=t[i];v(s);if(u.has(v)===true&&!o.has(v)){f.schedule(v);r(true)}}}a=false},schedule:function(r,i,f){if(i===void 0){i=false}if(f===void 0){f=false}N(typeof r==="function","Argument must be a function");var s=f&&a;var c=s?t:e;o.delete(r);if(i)u.add(r);if(c.indexOf(r)===-1){c.push(r);if(s)n=t.length}}};return f};var U;(function(r){r["Read"]="read";r["Update"]="update";r["Render"]="render";r["PostRender"]="postRender";r["FixedUpdate"]="fixedUpdate"})(U||(U={}));var Z=40;var $=1/60*1e3;var G=true;var K=false;var J=false;var Q={delta:0,timestamp:0};var rr=[U.Read,U.Update,U.Render,U.PostRender];var tr=function(r){return K=r};var er=rr.reduce(function(r,t){var e=q(tr);r.sync[t]=function(r,t,n){if(t===void 0){t=false}if(n===void 0){n=false}if(!K)fr();e.schedule(r,t,n);return r};r.cancelSync[t]=function(r){return e.cancel(r)};r.steps[t]=e;return r},{steps:{},sync:{},cancelSync:{}}),nr=er.steps,ar=er.sync,ir=er.cancelSync;var or=function(r){return nr[r].process(Q)};var ur=function(r){K=false;Q.delta=G?$:Math.max(Math.min(r-Q.timestamp,Z),1);if(!G)$=Q.delta;Q.timestamp=r;J=true;rr.forEach(or);J=false;if(K){G=false;_(ur)}};var fr=function(){K=true;G=true;if(!J)_(ur)};var sr=function(){return Q};var cr=1.525;var vr=function(r){return function(t){return 1-r(1-t)}};var lr=function(r){return function(t){return t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2}};var pr=vr;var dr=lr;var hr=function(r){return function(t){return Math.pow(t,r)}};var mr=function(r){return function(t){return t*t*((r+1)*t-r)}};var gr=function(r){var t=mr(r);return function(r){return(r*=2)<1?.5*t(r):.5*(2-Math.pow(2,-10*(r-1)))}};var yr=function(r){return r};var br=hr(2);var wr=vr(br);var Or=lr(br);var Mr=function(r){return 1-Math.sin(Math.acos(r))};var xr=vr(Mr);var Cr=lr(xr);var Sr=mr(cr);var Ar=vr(Sr);var Pr=lr(Sr);var kr=gr(cr);var Tr=4/11;var Er=8/11;var Wr=9/10;var Lr=4356/361;var Rr=35442/1805;var jr=16061/1805;var Vr=function(r){var t=r*r;return r<Tr?7.5625*t:r<Er?9.075*t-9.9*r+3.4:r<Wr?Lr*t-Rr*r+jr:10.8*r*r-20.52*r+10.72};var Hr=function(r){return 1-Vr(1-r)};var zr=function(r){return r<.5?.5*(1-Vr(1-r*2)):.5*Vr(r*2-1)+.5};var Ir=8;var Dr=.001;var Yr=1e-7;var Fr=10;var Xr=11;var Nr=1/(Xr-1);var Br=typeof Float32Array!=="undefined";var _r=function(r,t){return 1-3*t+3*r};var qr=function(r,t){return 3*t-6*r};var Ur=function(r){return 3*r};var Zr=function(r,t,e){return 3*_r(t,e)*r*r+2*qr(t,e)*r+Ur(t)};var $r=function(r,t,e){return((_r(t,e)*r+qr(t,e))*r+Ur(t))*r};function Gr(r,t,e,n){var a=Br?new Float32Array(Xr):new Array(Xr);var i=function(t,n,a){var i=0;var o;var u;do{u=n+(a-n)/2;o=$r(u,r,e)-t;if(o>0){a=u}else{n=u}}while(Math.abs(o)>Yr&&++i<Fr);return u};var o=function(t,n){var a=0;var i=0;var o;for(;a<Ir;++a){i=Zr(n,r,e);if(i===0){return n}o=$r(n,r,e)-t;n-=o/i}return n};var u=function(){for(var t=0;t<Xr;++t){a[t]=$r(t*Nr,r,e)}};var f=function(t){var n=0;var u=1;var f=Xr-1;var s=0;var c=0;var v=0;for(;u!==f&&a[u]<=t;++u){n+=Nr}--u;s=(t-a[u])/(a[u+1]-a[u]);c=n+s*Nr;v=Zr(c,r,e);if(v>=Dr){return o(t,c)}else if(v===0){return c}else{return i(t,n,n+Nr)}};u();var s=function(a){var i;if(r===t&&e===n){i=a}else if(a===0){i=0}else if(a===1){i=1}else{i=$r(f(a),t,n)}return i};return s}var Kr=Object.freeze({reversed:vr,mirrored:lr,createReversedEasing:pr,createMirroredEasing:dr,createExpoIn:hr,createBackIn:mr,createAnticipateEasing:gr,linear:yr,easeIn:br,easeOut:wr,easeInOut:Or,circIn:Mr,circOut:xr,circInOut:Cr,backIn:Sr,backOut:Ar,backInOut:Pr,anticipate:kr,bounceOut:Vr,bounceIn:Hr,bounceInOut:zr,cubicBezier:Gr});var Jr={x:0,y:0,z:0};var Qr=function(r){return typeof r==="number"};var rt=function(r){return r*180/Math.PI};var tt=function(r,t){if(t===void 0){t=Jr}return rt(Math.atan2(t.y-r.y,t.x-r.x))};var et=function(r,t){var e=true;if(t===undefined){t=r;e=false}return function(n){if(e){return n-r+t}else{r=n;e=true;return t}}};var nt=function(r){return function(t,e,n){return n!==undefined?r(t,e,n):function(n){return r(t,e,n)}}};var at=function(r,t,e){return Math.min(Math.max(e,r),t)};var it=nt(at);var ot=function(r,t){return function(e){return r(e)?t(e):e}};var ut=function(r){return r*Math.PI/180};var ft=function(r){return r.hasOwnProperty("x")&&r.hasOwnProperty("y")};var st=function(r){return ft(r)&&r.hasOwnProperty("z")};var ct=function(r,t){return Math.abs(r-t)};var vt=function(r,t){if(t===void 0){t=Jr}if(Qr(r)&&Qr(t)){return ct(r,t)}else if(ft(r)&&ft(t)){var e=ct(r.x,t.x);var n=ct(r.y,t.y);var a=st(r)&&st(t)?ct(r.z,t.z):0;return Math.sqrt(Math.pow(e,2)+Math.pow(n,2)+Math.pow(a,2))}return 0};var lt=function(r,t,e){var n=t-r;return n===0?1:(e-r)/n};var pt=function(r,t,e){return-e*r+e*t+r};var dt=function(){dt=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return dt.apply(this,arguments)};var ht=function(r,t,e){var n=r*r;var a=t*t;return Math.sqrt(Math.max(0,e*(a-n)+n))};var mt=[j,W,R];var gt=function(r){return mt.find(function(t){return t.test(r)})};var yt=function(r){return"'"+r+"' is not an animatable color. Use the equivalent color code instead."};var bt=function(r,t){var e=gt(r);var n=gt(t);N(!!e,yt(r));N(!!n,yt(t));N(e.transform===n.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var a=e.parse(r);var i=n.parse(t);var o=dt({},a);var u=e===R?pt:ht;return function(r){for(var t in o){if(t!=="alpha"){o[t]=u(a[t],i[t],r)}}o.alpha=pt(a.alpha,i.alpha,r);return e.transform(o)}};var wt=function(r,t){return function(e){return t(r(e))}};var Ot=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return r.reduce(wt)};var Mt=function(r,t){var e=r.slice();var n=e.length;var a=r.map(function(r,e){var n=t[e];if(Qr(r)){return function(t){return pt(r,n,t)}}else if(V.test(r)){return bt(r,n)}else{return xt(r,n)}});return function(r){for(var t=0;t<n;t++){e[t]=a[t](r)}return e}};var xt=function(r,t){var e=Y.createTransformer(r);N(e(r)===Y.createTransformer(t)(r),"Values '"+r+"' and '"+t+"' are of different format, or a value might have changed value type.");return Ot(Mt(Y.parse(r),Y.parse(t)),e)};var Ct=function(r,t){return function(e){return pt(r,t,e)}};function St(r){if(typeof r==="number"){return Ct}if(V.test(r)){return bt}else{return xt}}function At(r,t,e){var n=[];var a=e||St(r[0]);var i=r.length-1;for(var o=0;o<i;o++){var u=a(r[o],r[o+1]);if(t){var f=Array.isArray(t)?t[o]:t;u=Ot(f,u)}n.push(u)}return n}function Pt(r,t){var e=r[0],n=r[1];var a=t[0];return function(r){return a(lt(e,n,r))}}function kt(r,t){var e=r.length;var n=e-1;return function(a){var i=0;var o=false;if(a<=r[0]){o=true}else if(a>=r[n]){i=n-1;o=true}if(!o){var u=1;for(;u<e;u++){if(r[u]>a||u===n){break}}i=u-1}var f=lt(r[i],r[i+1],a);return t[i](f)}}function Tt(r,t,e){var n=e===void 0?{}:e,a=n.clamp,i=a===void 0?true:a,o=n.ease,u=n.mixer;var f=r.length;N(f===t.length,"Both input and output ranges must be the same length");N(!o||!Array.isArray(o)||o.length===f-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.");if(r[0]>r[f-1]){r=[].concat(r);t=[].concat(t);r.reverse();t.reverse()}var s=At(t,o,u);var c=f===2?Pt(r,s):kt(r,s);return i?Ot(it(r[0],r[f-1]),c):c}var Et=function(r,t,e){t=ut(t);return{x:e*Math.cos(t)+r.x,y:e*Math.sin(t)+r.y}};var Wt=function(r,t){if(t===void 0){t=2}t=Math.pow(10,t);return Math.round(r*t)/t};var Lt=function(r,t,e,n){if(n===void 0){n=0}return Wt(r+e*(t-r)/Math.max(n,e))};var Rt=function(r){if(r===void 0){r=50}var t=0;var e=0;return function(n){var a=sr().timestamp;var i=a!==e?a-e:0;var o=i?Lt(t,n,i,r):t;e=a;t=o;return o}};var jt=function(r){if(typeof r==="number"){return function(t){return Math.round(t/r)*r}}else{var t=0;var e=r.length;return function(n){var a=Math.abs(r[0]-n);for(t=1;t<e;t++){var i=r[t];var o=Math.abs(i-n);if(o===0)return i;if(o>a)return r[t-1];if(t===e-1)return i;a=o}}}};var Vt=function(r){return r};var Ht=function(r){if(r===void 0){r=Vt}return nt(function(t,e,n){var a=e-n;var i=-(0-t+1)*(0-r(Math.abs(a)));return a<=0?e+i:e-i})};var zt=Ht();var It=Ht(Math.sqrt);var Dt=function(r,t){return Qr(r)?r/(1e3/t):0};var Yt=function(r,t){return t?r*(1e3/t):0};var Ft=function(r,t,e){var n=t-r;return((e-r)%n+n)%n+r};var Xt=nt(Ft);var Nt=it(0,1);var Bt=function(){Bt=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return Bt.apply(this,arguments)};function _t(r,t){var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0)e[n]=r[n];if(r!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)if(t.indexOf(n[a])<0)e[n[a]]=r[n[a]];return e}var qt=function(r){var t=r.onRead,e=r.onRender,n=r.uncachedValues,a=n===void 0?new Set:n,i=r.useCache,o=i===void 0?true:i;return function(r){var n={};var i=[];var u=false;var f=function(r,t){var e=n[r];n[r]=t;if(n[r]!==e){if(i.indexOf(r)===-1){i.push(r)}if(!u){u=true;ar.render(s)}}};function s(t){if(t===void 0){t=false}if(t===true||u){e(n,r,i);u=false;i.length=0}return this}return{get:function(e){return e?o&&!a.has(e)&&n[e]!==undefined?n[e]:t(e,r):n},set:function(r,t){if(typeof r==="string"){if(t!==undefined){f(r,t)}else{return function(t){return f(r,t)}}}else{for(var e in r){if(r.hasOwnProperty(e)){f(e,r[e])}}}return this},render:s}}};var Ut=/([a-z])([A-Z])/g;var Zt="$1-$2";var $t=function(r){return r.replace(Ut,Zt).toLowerCase()};var Gt=function(r,t){for(var e in t){if(t.hasOwnProperty(e)){r.setAttribute(e,t[e])}}};var Kt=new Map;var Jt=new Map;var Qt=["Webkit","Moz","O","ms",""];var re=Qt.length;var te=typeof document!=="undefined";var ee;var ne=function(r,t){return Jt.set(r,$t(t))};var ae=function(r){ee=ee||document.createElement("div");for(var t=0;t<re;t++){var e=Qt[t];var n=e==="";var a=n?r:e+r.charAt(0).toUpperCase()+r.slice(1);if(a in ee.style||n){Kt.set(r,a);ne(r,""+(n?"":"-")+$t(a))}}};var ie=function(r){return ne(r,r)};var oe=function(r,t){if(t===void 0){t=false}var e=t?Jt:Kt;if(!e.has(r))te?ae(r):ie(r);return e.get(r)||r};var ue=["","X","Y","Z"];var fe=["scale","rotate","skew","transformPerspective"];var se=fe.reduce(function(r,t){return ue.reduce(function(r,e){r.push(t+e);return r},r)},["x","y","z"]);var ce=se.reduce(function(r,t){r[t]=true;return r},{});var ve=function(r){return ce[r]===true};var le=function(r,t){return se.indexOf(r)-se.indexOf(t)};var pe=function(r){return r==="originX"||r==="originY"};var de={color:V,backgroundColor:V,outlineColor:V,fill:V,stroke:V,borderColor:V,borderTopColor:V,borderRightColor:V,borderBottomColor:V,borderLeftColor:V,borderWidth:y,borderTopWidth:y,borderRightWidth:y,borderBottomWidth:y,borderLeftWidth:y,borderRadius:y,borderTopLeftRadius:y,borderTopRightRadius:y,borderBottomRightRadius:y,borderBottomLeftRadius:y,width:y,maxWidth:y,height:y,maxHeight:y,top:y,right:y,bottom:y,left:y,padding:y,paddingTop:y,paddingRight:y,paddingBottom:y,paddingLeft:y,margin:y,marginTop:y,marginRight:y,marginBottom:y,marginLeft:y,rotate:m,rotateX:m,rotateY:m,rotateZ:m,scale:d,scaleX:d,scaleY:d,scaleZ:d,skew:m,skewX:m,skewY:m,distance:y,x:y,y:y,z:y,perspective:y,opacity:p,originX:g,originY:g,originZ:y};var he=function(r){return de[r]};var me="scrollLeft";var ge="scrollTop";var ye=new Set([me,ge]);var be=new Set([me,ge,"transform"]);var we={x:"translateX",y:"translateY",z:"translateZ"};var Oe=function(r){return typeof r==="function"};var Me=function(r,t,e,n,a){var i="";var o=false;e.sort(le);var u=e.length;for(var f=0;f<u;f++){var s=e[f];i+=(we[s]||s)+"("+t[s]+") ";o=s==="z"?true:o}if(!o&&a){i+="translateZ(0)"}else{i=i.trim()}if(Oe(r.transform)){i=r.transform(t,i)}else if(n){i="none"}return i};var xe=function(r,t,e,n,a,i,o){if(t===void 0){t=true}if(e===void 0){e={}}if(n===void 0){n={}}if(a===void 0){a={}}if(i===void 0){i=[]}if(o===void 0){o=false}var u=true;var f=false;var s=false;for(var c in r){var v=r[c];var l=he(c);var p=typeof v==="number"&&l?l.transform(v):v;if(ve(c)){f=true;n[c]=p;i.push(c);if(u){if(l.default&&v!==l.default||!l.default&&v!==0){u=false}}}else if(pe(c)){a[c]=p;s=true}else if(!be.has(c)||!Oe(p)){e[oe(c,o)]=p}}if(f||typeof r.transform==="function"){e.transform=Me(r,n,i,u,t)}if(s){e.transformOrigin=(a.originX||0)+" "+(a.originY||0)+" "+(a.originZ||0)}return e};var Ce=function(r){if(r===void 0){r=true}var t={};var e={};var n={};var a=[];return function(i){a.length=0;xe(i,r,t,e,n,a,true);return t}};var Se=qt({onRead:function(r,t){var e=t.element,n=t.preparseOutput;var a=he(r);if(ve(r)){return a?a.default||0:0}else if(ye.has(r)){return e[r]}else{var i=window.getComputedStyle(e,null).getPropertyValue(oe(r,true))||0;return n&&a&&a.parse?a.parse(i):i}},onRender:function(r,t,e){var n=t.element,a=t.buildStyles;Object.assign(n.style,a(r));if(e.indexOf(me)!==-1)n.scrollLeft=r.scrollLeft;if(e.indexOf(ge)!==-1)n.scrollTop=r.scrollTop},uncachedValues:ye});var Ae=function(r,t){if(t===void 0){t={}}var e=t.enableHardwareAcceleration,n=_t(t,["enableHardwareAcceleration"]);return Se(Bt({element:r,buildStyles:Ce(e),preparseOutput:true},n))};var Pe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]);var ke=1e-7;var Te=function(r,t){return r/100*t+"px"};var Ee=function(r,t,e,n){var a=false;var i=false;var o={};var u=e?{pathLength:"0",pathSpacing:""+n}:undefined;var f=r.scale!==undefined?r.scale||ke:r.scaleX||1;var s=r.scaleY!==undefined?r.scaleY||ke:f||1;var c=t.width*((r.originX||50)/100)+t.x;var v=t.height*((r.originY||50)/100)+t.y;var l=-c*(f*1);var p=-v*(s*1);var d=c/f;var h=v/s;var m={translate:"translate("+r.x+", "+r.y+") ",scale:"translate("+l+", "+p+") scale("+f+", "+s+") translate("+d+", "+h+") ",rotate:"rotate("+r.rotate+", "+c+", "+v+") ",skewX:"skewX("+r.skewX+") ",skewY:"skewY("+r.skewY+") "};for(var g in r){if(r.hasOwnProperty(g)){var y=r[g];if(ve(g)){a=true}else if(e&&(g==="pathLength"||g==="pathSpacing")&&typeof y==="number"){i=true;u[g]=Te(y,n)}else if(e&&g==="pathOffset"){o["stroke-dashoffset"]=Te(-y,n)}else{var b=!Pe.has(g)?$t(g):g;o[b]=y}}}if(i){o["stroke-dasharray"]=u.pathLength+" "+u.pathSpacing}if(a){o.transform="";for(var g in m){if(m.hasOwnProperty(g)){var w=g==="scale"?"1":"0";o.transform+=m[g].replace(/undefined/g,w)}}}return o};var We=Bt({},l,{transform:Math.round});var Le={fill:V,stroke:V,scale:d,scaleX:d,scaleY:d,opacity:p,fillOpacity:p,strokeOpacity:p,numOctaves:We};var Re=function(r){return Le[r]};var je=function(r){return typeof r.getBBox==="function"?r.getBBox():r.getBoundingClientRect()};var Ve=function(r){try{return je(r)}catch(r){return{x:0,y:0,width:0,height:0}}};var He=qt({onRead:function(r,t){var e=t.element;if(!ve(r)){return e.getAttribute(r)}else{var n=Re(r);return n?n.default:0}},onRender:function(r,t){var e=t.dimensions,n=t.element,a=t.isPath,i=t.pathLength;Gt(n,Ee(r,e,a,i))}});var ze=function(r){var t=Ve(r);var e={element:r,dimensions:t,isPath:false};if(r.tagName==="path"){e.isPath=true;e.pathLength=r.getTotalLength()}return He(e)};var Ie=qt({useCache:false,onRead:function(r){return r==="scrollTop"?window.pageYOffset:window.pageXOffset},onRender:function(r){var t=r.scrollTop,e=t===void 0?0:t,n=r.scrollLeft,a=n===void 0?0:n;return window.scrollTo(a,e)}});var De=new WeakMap;var Ye=function(r,t){var e;if(r instanceof HTMLElement){e=Ae(r,t)}else if(r instanceof SVGElement){e=ze(r)}else if(r===window){e=Ie(r)}N(e!==undefined,"No valid node provided. Node must be HTMLElement, SVGElement or window.");De.set(r,e);return e};var Fe=function(r,t){return De.has(r)?De.get(r):Ye(r,t)};function Xe(r,t){var e=typeof r==="string"?document.querySelector(r):r;return Fe(e,t)}var Ne=function(){function r(r){if(r===void 0){r={}}this.props=r}r.prototype.applyMiddleware=function(r){return this.create(a({},this.props,{middleware:this.props.middleware?[r].concat(this.props.middleware):[r]}))};r.prototype.pipe=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}var e=r.length===1?r[0]:Ot.apply(void 0,r);return this.applyMiddleware(function(r){return function(t){return r(e(t))}})};r.prototype.while=function(r){return this.applyMiddleware(function(t,e){return function(n){return r(n)?t(n):e()}})};r.prototype.filter=function(r){return this.applyMiddleware(function(t){return function(e){return r(e)&&t(e)}})};return r}();var Be=function(){function r(r,t){var e=r.middleware,n=r.onComplete;var a=this;this.isActive=true;this.update=function(r){if(a.observer.update)a.updateObserver(r)};this.complete=function(){if(a.observer.complete&&a.isActive)a.observer.complete();if(a.onComplete)a.onComplete();a.isActive=false};this.error=function(r){if(a.observer.error&&a.isActive)a.observer.error(r);a.isActive=false};this.observer=t;this.updateObserver=function(r){return t.update(r)};this.onComplete=n;if(t.update&&e&&e.length){e.forEach(function(r){return a.updateObserver=r(a.updateObserver,a.complete)})}}return r}();var _e=function(r,t,e){var n=t.middleware;if(typeof r==="function"){return new Be({middleware:n,onComplete:e},{update:r})}else{return new Be({middleware:n,onComplete:e},r)}};var qe=function(r){n(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.create=function(r){return new t(r)};t.prototype.start=function(r){if(r===void 0){r={}}var t=false;var e={stop:function(){return undefined}};var n=this.props,o=n.init,u=i(n,["init"]);var f=_e(r,u,function(){t=true;e.stop()});var s=o(f);e=s?a({},e,s):e;if(r.registerParent){r.registerParent(e)}if(t)e.stop();return e};return t}(Ne);var Ue=function(r){return new qe({init:r})};var Ze=function(r){n(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.subscribers=[];return t}t.prototype.complete=function(){this.subscribers.forEach(function(r){return r.complete()})};t.prototype.error=function(r){this.subscribers.forEach(function(t){return t.error(r)})};t.prototype.update=function(r){for(var t=0;t<this.subscribers.length;t++){this.subscribers[t].update(r)}};t.prototype.subscribe=function(r){var t=this;var e=_e(r,this.props);this.subscribers.push(e);var n={unsubscribe:function(){var r=t.subscribers.indexOf(e);if(r!==-1)t.subscribers.splice(r,1)}};return n};t.prototype.stop=function(){if(this.parent)this.parent.stop()};t.prototype.registerParent=function(r){this.stop();this.parent=r};return t}(Ne);var $e=function(r){n(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.create=function(r){return new t(r)};return t}(Ze);var Ge=function(){return new $e};var Ke=function(r,t){var e=1/(r-1);var n=1/(2*(r-1));var a=Math.min(t,1);var i=a/n;var o=Math.floor((i+1)/2);return o*e};var Je=Object.freeze({angle:tt,degreesToRadians:ut,distance:vt,isPoint3D:st,isPoint:ft,dilate:pt,getValueFromProgress:pt,pointFromAngleAndDistance:Et,getProgressFromValue:lt,radiansToDegrees:rt,smooth:Lt,speedPerFrame:Dt,speedPerSecond:Yt,stepProgress:Ke});var Qe=function(r){return Array.isArray(r)};var rn=function(r){var t=typeof r;return t==="string"||t==="number"};var tn=function(r){n(t,r);function t(t){var e=r.call(this,t)||this;e.scheduleVelocityCheck=function(){return ar.postRender(e.velocityCheck)};e.velocityCheck=function(r){var t=r.timestamp;if(t!==e.lastUpdated){e.prev=e.current}};e.prev=e.current=t.value||0;if(rn(e.current)){e.updateCurrent=function(r){return e.current=r};e.getVelocityOfCurrent=function(){return e.getSingleVelocity(e.current,e.prev)}}else if(Qe(e.current)){e.updateCurrent=function(r){return e.current=r.slice()};e.getVelocityOfCurrent=function(){return e.getListVelocity()}}else{e.updateCurrent=function(r){e.current={};for(var t in r){if(r.hasOwnProperty(t)){e.current[t]=r[t]}}};e.getVelocityOfCurrent=function(){return e.getMapVelocity()}}if(t.initialSubscription)e.subscribe(t.initialSubscription);return e}t.prototype.create=function(r){return new t(r)};t.prototype.get=function(){return this.current};t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()};t.prototype.update=function(t){r.prototype.update.call(this,t);this.prev=this.current;this.updateCurrent(t);var e=sr(),n=e.delta,a=e.timestamp;this.timeDelta=n;this.lastUpdated=a;ar.postRender(this.scheduleVelocityCheck)};t.prototype.subscribe=function(t){var e=r.prototype.subscribe.call(this,t);this.subscribers[this.subscribers.length-1].update(this.current);return e};t.prototype.getSingleVelocity=function(r,t){return typeof r==="number"&&typeof t==="number"?Yt(r-t,this.timeDelta):Yt(parseFloat(r)-parseFloat(t),this.timeDelta)||0};t.prototype.getListVelocity=function(){var r=this;return this.current.map(function(t,e){return r.getSingleVelocity(t,r.prev[e])})};t.prototype.getMapVelocity=function(){var r={};for(var t in this.current){if(this.current.hasOwnProperty(t)){r[t]=this.getSingleVelocity(this.current[t],this.prev[t])}}return r};return t}(Ze);var en=function(r,t){return new tn({value:r,initialSubscription:t})};var nn=function(r){var t=r.getCount,e=r.getFirst,n=r.getOutput,a=r.mapApi,i=r.setProp,o=r.startActions;return function(r){return Ue(function(u){var f=u.update,s=u.complete,c=u.error;var v=t(r);var l=n();var p=function(){return f(l)};var d=0;var h=o(r,function(r,t){var e=false;return r.start({complete:function(){if(!e){e=true;d++;if(d===v)ar.update(s)}},error:c,update:function(r){i(l,t,r);ar.update(p,false,true)}})});return Object.keys(e(h)).reduce(function(r,t){r[t]=a(h,t);return r},{})})}};var an=nn({getOutput:function(){return{}},getCount:function(r){return Object.keys(r).length},getFirst:function(r){return r[Object.keys(r)[0]]},mapApi:function(r,t){return function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}return Object.keys(r).reduce(function(n,a){var i;if(r[a][t]){e[0]&&e[0][a]!==undefined?n[a]=r[a][t](e[0][a]):n[a]=(i=r[a])[t].apply(i,e)}return n},{})}},setProp:function(r,t,e){return r[t]=e},startActions:function(r,t){return Object.keys(r).reduce(function(e,n){e[n]=t(r[n],n);return e},{})}});var on=nn({getOutput:function(){return[]},getCount:function(r){return r.length},getFirst:function(r){return r[0]},mapApi:function(r,t){return function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}return r.map(function(r,n){if(r[t]){return Array.isArray(e[0])?r[t](e[0][n]):r[t].apply(r,e)}})}},setProp:function(r,t,e){return r[t]=e},startActions:function(r,t){return r.map(function(r,e){return t(r,e)})}});var un=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return on(r)};var fn=function(r){var t=Object.keys(r);var e=function(t,e){return t!==undefined&&!r[e](t)};var n=function(r){return t.reduce(function(t,n){if(e(r[n],n))t.push(n);return t},[])};var a=function(r){return r&&t.some(function(t){return e(r[t],t)})};return{getVectorKeys:n,testVectorProps:a}};var sn=[y,g,m,b,w];var cn=function(r){return sn.find(function(t){return t.test(r)})};var vn=function(r){return Boolean(cn(r))};var ln=function(r,t){return r(t)};var pn=function(r){return function(t,e){t[e]=t[e][r];return t}};var dn=function(r,t,e){var n=e[0];var i=t[n].map(function(n,i){var o=e.reduce(pn(i),a({},t));return On(n)(r,o)});return un.apply(void 0,i)};var hn=function(r){return function(t,e){t[e]=t[e][r];return t}};var mn=function(r,t,e){var n=e[0];var i=Object.keys(t[n]).reduce(function(i,o){var u=e.reduce(hn(o),a({},t));i[o]=On(t[n][o])(r,u);return i},{});return an(i)};var gn=function(r,t){var e=t.from,n=t.to,o=i(t,["from","to"]);var u=cn(e)||cn(n);var f=u.transform,s=u.parse;return r(a({},o,{from:typeof e==="string"?s(e):e,to:typeof n==="string"?s(n):n})).pipe(f)};var yn=function(r,t){var e=t.from,n=t.to,o=i(t,["from","to"]);return r(a({},o,{from:0,to:1})).pipe(bt(e,n),V.transform)};var bn=function(r,t){var e=t.from,n=t.to,o=i(t,["from","to"]);var u=Y.createTransformer(e);N(u(e)===Y.createTransformer(n)(e),"Values '"+e+"' and '"+n+"' are of different format, or a value might have changed value type.");return r(a({},o,{from:0,to:1})).pipe(Mt(Y.parse(e),Y.parse(n)),u)};var wn=function(r,t){var e=fn(t),n=e.testVectorProps,a=e.getVectorKeys;var i=function(t){var e=n(t);if(!e)return r(t);var i=a(t);var o=i[0];var u=t[o];return On(u)(r,t,i)};return i};var On=function(r){var t=ln;if(typeof r==="number"){t=ln}else if(Array.isArray(r)){t=dn}else if(vn(r)){t=gn}else if(V.test(r)){t=yn}else if(Y.test(r)){t=bn}else if(typeof r==="object"){t=mn}return t};var Mn=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.complete,n=t.update;var a=r.velocity,i=a===void 0?0:a,o=r.from,u=o===void 0?0:o,f=r.power,s=f===void 0?.8:f,c=r.timeConstant,v=c===void 0?350:c,l=r.restDelta,p=l===void 0?.5:l,d=r.modifyTarget;var h=0;var m=s*i;var g=Math.round(u+m);var y=typeof d==="undefined"?g:d(g);var b=ar.update(function(r){var t=r.delta;h+=t;var a=-m*Math.exp(-h/v);var i=a>p||a<-p;var o=i?y+a:y;n(o);if(!i){ir.update(b);e()}},true);return{stop:function(){return ir.update(b)}}})};var xn=wn(Mn,{from:l.test,modifyTarget:function(r){return typeof r==="function"},velocity:l.test});var Cn=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.update,n=t.complete;var a=r.velocity,i=a===void 0?0:a;var o=r.from,u=o===void 0?0:o,f=r.to,s=f===void 0?0:f,c=r.stiffness,v=c===void 0?100:c,l=r.damping,p=l===void 0?10:l,d=r.mass,h=d===void 0?1:d,m=r.restSpeed,g=m===void 0?.01:m,y=r.restDelta,b=y===void 0?.01:y;var w=i?-(i/1e3):0;var O=0;var M=s-u;var x=u;var C=x;var S=ar.update(function(r){var t=r.delta;O+=t;var a=p/(2*Math.sqrt(v*h));var o=Math.sqrt(v/h)/1e3;C=x;if(a<1){var u=Math.exp(-a*o*O);var f=o*Math.sqrt(1-a*a);x=s-u*((w+a*o*M)/f*Math.sin(f*O)+M*Math.cos(f*O))}else{var u=Math.exp(-o*O);x=s-u*(M+(w+o*M)*O)}i=Yt(x-C,t);var c=Math.abs(i)<=g;var l=Math.abs(s-x)<=b;if(c&&l){x=s;e(x);ir.update(S);n()}else{e(x)}},true);return{stop:function(){return ir.update(S)}}})};var Sn=wn(Cn,{from:l.test,to:l.test,stiffness:l.test,damping:l.test,mass:l.test,velocity:l.test});var An=function(r){var t=r.from,e=t===void 0?0:t,n=r.velocity,i=n===void 0?0:n,o=r.min,u=r.max,f=r.power,s=f===void 0?.8:f,c=r.timeConstant,v=c===void 0?700:c,l=r.bounceStiffness,p=l===void 0?500:l,d=r.bounceDamping,h=d===void 0?10:d,m=r.restDelta,g=m===void 0?1:m,y=r.modifyTarget;return Ue(function(r){var t=r.update,n=r.complete;var f=en(e);var c;var l=false;var d=function(r){return o!==undefined&&r<=o};var m=function(r){return u!==undefined&&r>=u};var b=function(r){return d(r)||m(r)};var w=function(r,t){return d(r)&&t<0||m(r)&&t>0};var O=function(r,t){c&&c.stop();c=r.start({update:function(r){return f.update(r)},complete:function(){if(t){t();return}n()}})};var M=function(r){l=true;O(Sn(a({},r,{to:d(r.from)?o:u,stiffness:p,damping:h,restDelta:g})))};f.subscribe(function(r){t(r);var e=f.getVelocity();if(c&&!l&&w(r,e)){M({from:r,velocity:e})}});if(b(e)){M({from:e,velocity:i})}else if(i!==0){var x=xn({from:e,velocity:i,timeConstant:v,power:s,restDelta:b(e)?20:g,modifyTarget:y});O(x,function(){var r=f.get();if(b(r)){M({from:r,velocity:f.getVelocity()})}else{n()}})}else{n()}return{stop:function(){return c&&c.stop()}}})};var Pn=wn(An,{from:l.test,velocity:l.test,min:l.test,max:l.test,damping:l.test,stiffness:l.test,modifyTarget:function(r){return typeof r==="function"}});var kn=function(){return Ue(function(r){var t=r.update;var e=0;var n=ar.update(function(r){var n=r.timestamp;if(!e)e=n;t(n-e)},true,true);return{stop:function(){return ir.update(n)}}})};var Tn=function(r){var t=r.from,e=t===void 0?0:t,n=r.to,a=n===void 0?1:n,i=r.ease,o=i===void 0?yr:i;return Ue(function(r){var t=r.update;return{seek:function(r){return t(r)}}}).pipe(o,function(r){return pt(e,a,r)})};var En=wn(Tn,{ease:function(r){return typeof r==="function"},from:l.test,to:l.test});var Wn=it(0,1);var Ln=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.update,n=t.complete;var a=r.duration,i=a===void 0?300:a,o=r.ease,u=o===void 0?wr:o,f=r.flip,s=f===void 0?0:f,c=r.loop,v=c===void 0?0:c,l=r.yoyo,p=l===void 0?0:l;var d=r.from,h=d===void 0?0:d,m=r.to,g=m===void 0?1:m,y=r.elapsed,b=y===void 0?0:y,w=r.playDirection,O=w===void 0?1:w,M=r.flipCount,x=M===void 0?0:M,C=r.yoyoCount,S=C===void 0?0:C,A=r.loopCount,P=A===void 0?0:A;var k=En({from:h,to:g,ease:u}).start(e);var T=0;var E;var W=false;var L=function(){if(b>i){var r=b-i;b=b-r*2}else if(b<0){var r=-1*b;b=b+r*2}O*=-1};var R=function(){var r;var t=O===1?W&&b>=i:W&&b<=0;if(!t)return false;if(t&&!v&&!s&&!p)return true;var n=false;if(v&&P<v){b=i-b;P++;n=true}else if(s&&x<s){b=i-b;r=[g,h],h=r[0],g=r[1];k=En({from:h,to:g,ease:u}).start(e);x++;n=true}else if(p&&S<p){L();S++;n=true}return!n};var j=function(){T=Wn(lt(0,i,b));k.seek(T)};var V=function(){W=true;E=ar.update(function(r){var t=r.delta;b+=t*O;j();if(R()&&n){ir.update(E);ar.update(n,false,true)}},true)};var H=function(){W=false;if(E)ir.update(E)};V();return{isActive:function(){return W},getElapsed:function(){return it(0,i,b)},getProgress:function(){return T},stop:function(){H()},pause:function(){H();return this},resume:function(){if(!W)V();return this},seek:function(r){b=pt(0,i,r);ar.update(j,false,true);return this},reverse:function(){L();return this}}})};var Rn=it(0,1);var jn=function(r,t){return r.map(function(){return t||wr}).splice(0,r.length-1)};var Vn=function(r){var t=r.length;return r.map(function(r,e){return e!==0?e/(t-1):0})};var Hn=function(r,t,e){var n=r.length;var a=n-1;var i=a-1;var o=t.map(function(r){return r.start(e)});return function(t){if(t<=r[0]){o[0].seek(0)}if(t>=r[a]){o[i].seek(1)}var e=1;for(;e<n;e++){if(r[e]>t||e===a)break}var u=lt(r[e-1],r[e],t);o[e-1].seek(Rn(u))}};var zn=function(r){var t=r.easings,e=r.ease,n=e===void 0?yr:e,o=r.times,u=r.values,f=i(r,["easings","ease","times","values"]);t=Array.isArray(t)?t:jn(u,t);o=o||Vn(u);var s=t.map(function(r,t){return En({from:u[t],to:u[t+1],ease:r})});return Ln(a({},f,{ease:n})).applyMiddleware(function(r){return Hn(o,s,r)})};var In=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.complete,n=t.update;var a=r.acceleration,i=a===void 0?0:a,o=r.friction,u=o===void 0?0:o,f=r.velocity,s=f===void 0?0:f,c=r.springStrength,v=r.to;var l=r.restSpeed,p=l===void 0?.001:l,d=r.from,h=d===void 0?0:d;var m=h;var g=ar.update(function(r){var t=r.delta;var a=Math.max(t,16);if(i)s+=Dt(i,a);if(u)s*=Math.pow(1-u,a/100);if(c!==undefined&&v!==undefined){var o=v-m;s+=o*Dt(c,a)}m+=Dt(s,a);n(m);var f=p!==false&&(!s||Math.abs(s)<=p);if(f){ir.update(g);e()}},true);return{set:function(r){m=r;return this},setAcceleration:function(r){i=r;return this},setFriction:function(r){u=r;return this},setSpringStrength:function(r){c=r;return this},setSpringTarget:function(r){v=r;return this},setVelocity:function(r){s=r;return this},stop:function(){return ir.update(g)}}})};var Dn=wn(In,{acceleration:l.test,friction:l.test,velocity:l.test,from:l.test,to:l.test,springStrength:l.test});var Yn=300;var Fn=function(r){var t=[];var e=r[r.length-1];var n=typeof e==="number";var a=n?e:0;var i=n?r.slice(0,-1):r;var o=i.length;var u=0;i.forEach(function(r,e){t.push(r);if(e!==o-1){var n=r.duration||Yn;u+=a;t.push("-"+(n-u))}});return t};var Xn=function(r,t){Array.isArray(t)?r.push.apply(r,Fn(t)):r.push(t);return r};var Nn=function(r,t,e){var n=r.duration,a=r.easings,i=r.times,o=r.values;var u=o.length;var f=i[u-1];var s=t.at===0?0:t.at/n;var c=(t.at+t.duration)/n;if(e===0){o.push(t.from);i.push(s)}else{if(f!==s){if(t.from!==undefined){o.push(o[u-1]);i.push(s);a.push(yr)}var v=t.from!==undefined?t.from:o[u-1];o.push(v);i.push(s);a.push(yr)}else if(t.from!==undefined){o.push(t.from);i.push(s);a.push(yr)}}o.push(t.to);i.push(c);a.push(t.ease||Or);return r};var Bn=function(r,t){var e=t===void 0?{}:t,n=e.duration,i=e.elapsed,o=e.ease,u=e.loop,f=e.flip,s=e.yoyo;var c=0;var v=0;var l=r.reduce(Xn,[]);var p=[];l.forEach(function(r){if(typeof r==="string"){c+=parseFloat(r)}else if(typeof r==="number"){c=r}else{var t=a({},r,{at:c});t.duration=t.duration===undefined?Yn:t.duration;p.push(t);c+=t.duration;v=Math.max(v,t.at+t.duration)}});var d={};var h=p.length;for(var m=0;m<h;m++){var g=p[m];var y=g.track;if(y===undefined){throw new Error("No track defined")}if(!d.hasOwnProperty(y))d[y]=[];d[y].push(g)}var b={};for(var w in d){if(d.hasOwnProperty(w)){var O=d[w].reduce(Nn,{duration:v,easings:[],times:[],values:[]});b[w]=zn(a({},O,{duration:n||v,ease:o,elapsed:i,loop:u,yoyo:s,flip:f}))}}return an(b)};var _n=function(r,t,e){return Ue(function(n){var a=n.update;var i=t.split(" ").map(function(t){r.addEventListener(t,a,e);return t});return{stop:function(){return i.forEach(function(t){return r.removeEventListener(t,a,e)})}}})};var qn=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}};var Un=function(r,t){if(t===void 0){t=qn()}t.clientX=t.x=r.clientX;t.clientY=t.y=r.clientY;t.pageX=r.pageX;t.pageY=r.pageY;return t};var Zn=[qn()];var $n=false;if(typeof document!=="undefined"){var Gn=function(r){var t=r.touches;$n=true;var e=t.length;Zn.length=0;for(var n=0;n<e;n++){var a=t[n];Zn.push(Un(a))}};_n(document,"touchstart touchmove",{passive:true,capture:true}).start(Gn)}var Kn=function(r){var t=r===void 0?{}:r,e=t.preventDefault,n=e===void 0?true:e,a=t.scale,i=a===void 0?1:a,o=t.rotate,u=o===void 0?0:o;return Ue(function(r){var t=r.update;var e={touches:Zn,scale:i,rotate:u};var a=0;var o=0;var f=Zn.length>1;if(f){var s=Zn[0],c=Zn[1];a=vt(s,c);o=tt(s,c)}var v=function(){if(f){var r=Zn[0],n=Zn[1];var s=vt(r,n);var c=tt(r,n);e.scale=i*(s/a);e.rotate=u+(c-o)}t(e)};var l=function(r){if(n||r.touches.length>1)r.preventDefault();ar.update(v)};var p=_n(document,"touchmove",{passive:!n}).start(l);if($n)ar.update(v);return{stop:function(){ir.update(v);p.stop()}}})};var Jn=function(){return $n};var Qn=qn();var ra=false;if(typeof document!=="undefined"){var ta=function(r){ra=true;Un(r,Qn)};_n(document,"mousedown mousemove",true).start(ta)}var ea=function(r){var t=(r===void 0?{}:r).preventDefault,e=t===void 0?true:t;return Ue(function(r){var t=r.update;var n=function(){return t(Qn)};var a=function(r){if(e)r.preventDefault();ar.update(n)};var i=_n(document,"mousemove").start(a);if(ra)ar.update(n);return{stop:function(){ir.update(n);i.stop()}}})};var na=function(r){var t=r[0];return t};var aa=function(r){if(r===void 0){r={}}return Jn()?Kn(r).pipe(function(r){var t=r.touches;return t},na):ea(r)};var ia=function(r){if(r===void 0){r={}}var t=r.x,e=r.y,n=i(r,["x","y"]);if(t!==undefined||e!==undefined){var a=et(t||0);var o=et(e||0);var u={x:0,y:0};return aa(n).pipe(function(r){u.x=a(r.x);u.y=o(r.y);return u})}else{return aa(n)}};var oa=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return Ue(function(t){var e=t.update,n=t.complete;var a=0;var i;var o=function(){i=r[a].start({complete:function(){a++;a>=r.length?n():o()},update:e})};o();return{stop:function(){return i&&i.stop()}}})};var ua=function(r,t){return Ue(function(e){var n=0;var i=un(r,t).start(a({},e,{update:function(r){var t=r[0],a=r[1];e.update(pt(t,a,n))}}));return{setBalance:function(r){return n=r},stop:function(){return i.stop()}}})};var fa=function(r){return Ue(function(t){var e=t.complete;var n=setTimeout(e,r);return{stop:function(){return clearTimeout(n)}}})};var sa=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return Ue(function(t){var e=r.map(function(r){return r.start(t)});return{stop:function(){return e.forEach(function(r){return r.stop()})}}})};var ca=function(r,t){return Ue(function(e){var n=e.update,a=e.complete;var i;var o=r.start({update:function(){return i!==undefined&&n(i)},complete:a});var u=t.start({update:function(r){return i=r},complete:a});return{stop:function(){o.stop();u.stop()}}})};var va=function(r,t){var e=typeof t==="number";var n=r.map(function(r,n){var a=e?t*n:t(n);return oa(fa(a),r)});return un.apply(void 0,n)};var la=function(r){return function(t){return""+t+r}};var pa=function(r,t,e){if(t===void 0){t=0}if(e===void 0){e=1}return function(n){var a=lt(t,e,n);return pt(t,e,Ke(r,a))}};var da=function(r){return function(t){var e=a({},t);for(var n in r){if(r.hasOwnProperty(n)){var i=r[n];e[n]=i(t[n])}}return e}};var ha=Object.freeze({applyOffset:et,clamp:it,conditional:ot,interpolate:Tt,blendArray:Mt,blendColor:bt,pipe:Ot,smooth:Rt,snap:jt,generateStaticSpring:Ht,nonlinearSpring:It,linearSpring:zt,wrap:Xt,appendUnit:la,steps:pa,transformMap:da});var ma=function(r,t){X(false,"css() is deprecated, use styler instead");return Xe(r,t)};var ga=function(r,t){X(false,"svg() is deprecated, use styler instead");return Xe(r,t)};var ya=Object.freeze({valueTypes:F,easing:Kr,action:Ue,multicast:Ge,value:en,decay:xn,inertia:Pn,keyframes:zn,everyFrame:kn,physics:Dn,spring:Sn,timeline:Bn,tween:Ln,listen:_n,pointer:ia,mouse:ea,multitouch:Kn,chain:oa,composite:an,crossfade:ua,delay:fa,merge:sa,parallel:un,schedule:ca,stagger:va,calc:Je,transform:ha,css:ma,svg:ga,Action:qe,ValueReaction:tn,styler:Xe});var ba=t(function(r,t){Object.defineProperty(t,"__esModule",{value:true});var e=function(){function r(t){var e=this;this.addAfterStyle=function(t){if(t.target instanceof HTMLElement){r.addStyles(t.target,e.afterStyle);t.target.setAttribute("data-gw-transition","true");t.target.removeEventListener("transitionend",e.addAfterStyle,true)}};if(!t)throw new Error("Missing mandatory parameters!");var n=t.container,a=t.childrenWidthInPx,i=t.enableResize,o=t.resizeDebounceInMs,u=t.margin,f=t.insertStyle,s=f===void 0?{}:f,c=t.beforeStyle,v=c===void 0?{}:c,l=t.afterStyle,p=l===void 0?{}:l;this.missingParameter({container:n,childrenWidthInPx:a});this.container=n;this.childrenWidth=a;this.margin=u||"center";this.columnsHeight=[];this.childrenHeights={};this.childLastId=0;this.enableResize=i||false;this.resizeDebounceInMs=o||100;this.containerClassName="gw-container";this.insertStyle=s;this.beforeStyle=v;this.afterStyle=p;this.addStyleToDOM();this.children=this.getChildren();this.container.classList.add(this.containerClassName);this.containerWidth=this.container.clientWidth;this.columnsCount=Math.floor(this.containerWidth/this.childrenWidth);this.setChildrenWidth();this.setChildrenHeight();this.setInitialChildrenTransition();this.listenToResize();this.marginWidth=this.calculateMargin();this.addMutationObserverToContainer();this.addMutationObserverToChildren();console.log("asd");ya.spring({from:0,to:110}).start(function(r){return console.log(r)});this.reflow()}r.prototype.missingParameter=function(r){var t=[];Object.entries(r).forEach(function(r){var e=r[0],n=r[1];if(!n)t.push(e)});ya.spring({from:0,to:110}).start(function(r){return console.log(r)});if(t.length>0){var e="parameter"+(t.length>1?"s":"");var n="Missing "+t.length+" mandatory "+e+":";t.forEach(function(r){return n+="\n  "+r});throw new Error(n)}};r.prototype.calculateMargin=function(){if(this.margin==="right")return 0;if(this.columnsCount<=1)return 0;var r=this.children.length>this.columnsCount?this.columnsCount:this.children.length;var t=this.containerWidth-r*this.childrenWidth;if(this.margin==="left")return t;return Math.floor(t/2)};r.debounce=function(r,t){var e;return function(){clearTimeout(e);e=setTimeout(r,t)}};r.prototype.listenToResize=function(){var t=this;if(this.enableResize){var e=this.resizeDebounceInMs;window.addEventListener("resize",r.debounce(function(){return t.resize(t.container.clientWidth)},e))}};r.prototype.setChildrenHeight=function(){var r=this;this.children.forEach(function(t){var e=t.getAttribute("data-gw-id");if(!e){r.childLastId=r.childLastId+1;e=r.childLastId.toString();t.setAttribute("data-gw-id",e)}r.childrenHeights[e]=t.offsetHeight})};r.prototype.setInitialChildrenTransition=function(){var t=this;this.children.forEach(function(e){r.addStyles(e,t.insertStyle)})};r.prototype.resetColumnsHeight=function(){this.columnsHeight=[]};r.prototype.addStyleToDOM=function(){var r=document.querySelector("head");if(r){var t=document.createElement("style");t.id="grid-wall-style";var e=document.createTextNode("/* grid-wall */"+("."+this.containerClassName+"{")+"  box-sizing:content-box;"+"}"+("."+this.containerClassName+">*{")+"  box-sizing:border-box;"+"  position:absolute;"+"}");t.appendChild(e);r.appendChild(t)}};r.setWidth=function(r,t){r.style.width=t+"px"};r.addStyles=function(r,t){for(var e in t){if(r.style.hasOwnProperty(e)){r.style[e]=t[e]}}};r.prototype.getChildren=function(){var r=[];if(this.container.children.length>0){Array.from(this.container.children).forEach(function(t){if(t instanceof HTMLElement){r.push(t)}})}return r};r.prototype.setChildrenWidth=function(){var t=this;if(this.children.length>0){this.children.forEach(function(e){r.setWidth(e,t.childrenWidth)})}};r.prototype.addMutationObserverToContainer=function(){var r=this;var t=new MutationObserver(function(t){return r.handleContainerMutation(t)});t.observe(this.container,{childList:true})};r.prototype.addMutationObserverToChildren=function(){var r=this;if(this.children.length>0){this.children.forEach(function(t){var e=new MutationObserver(function(t){return r.handleChildrenMutation(t)});e.observe(t,{attributes:true})})}};r.prototype.getLowerColumn=function(){var r={index:0,height:0};if(this.columnsHeight.length>0){this.columnsHeight.forEach(function(t,e){if(r.height===0||r.height>t){r.height=t;r.index=e}})}return r};r.getMaxHeight=function(r){return Math.max.apply(Math,r)};r.prototype.reflow=function(){var t=this;this.resetColumnsHeight();this.marginWidth=this.calculateMargin();this.children.forEach(function(e,n){var a=n;var i="translate("+(a*t.childrenWidth+t.marginWidth)+"px, 0px)";if((a+1)*t.childrenWidth>=t.containerWidth){var o=t.getLowerColumn();a=o.index;var u=a*t.childrenWidth;i="translate("+(t.marginWidth+u)+"px, "+o.height+"px)"}t.columnsHeight[a]=Number.isInteger(t.columnsHeight[a])?t.columnsHeight[a]+e.offsetHeight:e.offsetHeight;if(!e.getAttribute("data-gw-transition")){r.addStyles(e,t.beforeStyle);e.addEventListener("transitionend",t.addAfterStyle,true)}if(e.style.transform!==i)e.style.transform=i});this.container.style.height=r.getMaxHeight(this.columnsHeight)+"px";this.setChildrenHeight()};r.prototype.resize=function(r){if(!r&&!Number.isNaN(r)){throw new Error("Width must be a number and more than 0")}this.containerWidth=r;this.columnsCount=Math.floor(this.containerWidth/this.childrenWidth);this.reflow()};r.prototype.handleChildrenMutation=function(r,t){var e=this;r.forEach(function(r){var t=r.target;var n=t.getAttribute("data-gw-id");if(n){var a=e.childrenHeights[n];if(a!==t.offsetHeight){e.reflow()}}});if(t&&typeof t==="function")t()};r.prototype.handleContainerMutation=function(t,e){var n=this;t.forEach(function(t){if(t.type==="childList"){t.addedNodes.forEach(function(t){if(t instanceof HTMLElement){r.addStyles(t,n.insertStyle);r.setWidth(t,n.childrenWidth)}});n.children=n.getChildren();n.reflow()}});if(e&&typeof e==="function")e()};return r}();t.default=e});var wa=r(ba);return wa});