(function(r,t){typeof exports==="object"&&typeof module!=="undefined"?module.exports=t():typeof define==="function"&&define.amd?define(t):(r=r||self,r.GridWall=t())})(this,function(){"use strict";var r=typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function t(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function e(r,t){return t={exports:{}},r(t,t.exports),t.exports}var n=function(r,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)if(t.hasOwnProperty(e))r[e]=t[e]};return n(r,t)};function a(r,t){n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var i=function(){i=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return i.apply(this,arguments)};function o(r,t){var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0)e[n]=r[n];if(r!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)if(t.indexOf(n[a])<0)e[n[a]]=r[n[a]];return e}var u=function(){u=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return u.apply(this,arguments)};var s=function(r,t){return function(e){return Math.max(Math.min(e,t),r)}};var f=function(r){return function(t){return typeof t==="string"&&t.indexOf(r)===0}};var c=function(r){return r.substring(r.indexOf("(")+1,r.lastIndexOf(")"))};var v=function(r){return typeof r==="string"?r.split(/,\s*/):[r]};var l=function(r){return r%1?Number(r.toFixed(5)):r};var d={test:function(r){return typeof r==="number"},parse:parseFloat,transform:function(r){return r}};var p=u({},d,{transform:s(0,1)});var h=u({},d,{default:1});var m=function(r){return{test:function(t){return typeof t==="string"&&t.endsWith(r)&&t.split(" ").length===1},parse:parseFloat,transform:function(t){return""+t+r}}};var g=m("deg");var y=m("%");var b=m("px");var w=m("vh");var O=m("vw");var x=u({},y,{parse:function(r){return y.parse(r)/100},transform:function(r){return y.transform(r*100)}});var C=s(0,255);var M=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i;var k=function(r){return r.red!==undefined};var S=function(r){return r.hue!==undefined};var P=function(r){var t=r.length;return function(e){if(typeof e!=="string")return e;var n={};var a=v(c(e));for(var i=0;i<t;i++){n[r[i]]=a[i]!==undefined?parseFloat(a[i]):1}return n}};var A=function(r){var t=r.red,e=r.green,n=r.blue,a=r.alpha,i=a===void 0?1:a;return"rgba("+t+", "+e+", "+n+", "+i+")"};var E=function(r){var t=r.hue,e=r.saturation,n=r.lightness,a=r.alpha,i=a===void 0?1:a;return"hsla("+t+", "+e+", "+n+", "+i+")"};var R=u({},d,{transform:function(r){return Math.round(C(r))}});var T=f("rgb");var L={test:function(r){return typeof r==="string"?T(r):k(r)},parse:P(["red","green","blue","alpha"]),transform:function(r){var t=r.red,e=r.green,n=r.blue,a=r.alpha;return A({red:R.transform(t),green:R.transform(e),blue:R.transform(n),alpha:l(a)})}};var W=f("hsl");var j={test:function(r){return typeof r==="string"?W(r):S(r)},parse:P(["hue","saturation","lightness","alpha"]),transform:function(r){var t=r.hue,e=r.saturation,n=r.lightness,a=r.alpha;return E({hue:Math.round(t),saturation:y.transform(l(e)),lightness:y.transform(l(n)),alpha:l(a)})}};var Y=u({},L,{test:f("#"),parse:function(r){var t="";var e="";var n="";if(r.length>4){t=r.substr(1,2);e=r.substr(3,2);n=r.substr(5,2)}else{t=r.substr(1,1);e=r.substr(2,1);n=r.substr(3,1);t+=t;e+=e;n+=n}return{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:1}}});var I={test:function(r){return typeof r==="string"&&M.test(r)||L.test(r)||j.test(r)||Y.test(r)},parse:function(r){if(L.test(r)){return L.parse(r)}else if(j.test(r)){return j.parse(r)}else if(Y.test(r)){return Y.parse(r)}return r},transform:function(r){if(k(r)){return L.transform(r)}else if(S(r)){return j.transform(r)}return r}};var V=/(-)?(\d[\d\.]*)/g;var X=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi;var H="${c}";var z="${n}";var B={test:function(r){if(typeof r!=="string"||!isNaN(r))return false;var t=0;var e=r.match(V);var n=r.match(X);if(e)t+=e.length;if(n)t+=n.length;return t>0},parse:function(r){var t=r;var e=[];var n=t.match(X);if(n){t=t.replace(X,H);e.push.apply(e,n.map(I.parse))}var a=t.match(V);if(a){e.push.apply(e,a.map(d.parse))}return e},createTransformer:function(r){var t=r;var e=0;var n=r.match(X);var a=n?n.length:0;if(n){for(var i=0;i<a;i++){t=t.replace(n[i],H);e++}}var o=t.match(V);var u=o?o.length:0;if(o){for(var i=0;i<u;i++){t=t.replace(o[i],z);e++}}return function(r){var n=t;for(var i=0;i<e;i++){n=n.replace(i<a?H:z,i<a?I.transform(r[i]):l(r[i]))}return n}}};var F=Object.freeze({number:d,scale:h,alpha:p,degrees:g,percent:y,progressPercentage:x,px:b,vw:O,vh:w,rgba:L,rgbUnit:R,hsla:j,hex:Y,color:I,complex:B});var D=function(){};var N=function(){};var _=0;var Z=typeof window!=="undefined"&&window.requestAnimationFrame!==undefined?function(r){return window.requestAnimationFrame(r)}:function(r){var t=Date.now();var e=Math.max(0,16.7-(t-_));_=t+e;setTimeout(function(){return r(_)},e)};var q=function(r){var t=[];var e=[];var n=0;var a=false;var i=0;var o=new WeakSet;var u=new WeakSet;var s={cancel:function(r){var t=e.indexOf(r);o.add(r);if(t!==-1){e.splice(t,1)}},process:function(f){var c;a=true;c=[e,t],t=c[0],e=c[1];e.length=0;n=t.length;if(n){var v;for(i=0;i<n;i++){v=t[i];v(f);if(u.has(v)===true&&!o.has(v)){s.schedule(v);r(true)}}}a=false},schedule:function(r,i,s){if(i===void 0){i=false}if(s===void 0){s=false}N(typeof r==="function","Argument must be a function");var f=s&&a;var c=f?t:e;o.delete(r);if(i)u.add(r);if(c.indexOf(r)===-1){c.push(r);if(f)n=t.length}}};return s};var U;(function(r){r["Read"]="read";r["Update"]="update";r["Render"]="render";r["PostRender"]="postRender";r["FixedUpdate"]="fixedUpdate"})(U||(U={}));var $=40;var G=1/60*1e3;var K=true;var J=false;var Q=false;var rr={delta:0,timestamp:0};var tr=[U.Read,U.Update,U.Render,U.PostRender];var er=function(r){return J=r};var nr=tr.reduce(function(r,t){var e=q(er);r.sync[t]=function(r,t,n){if(t===void 0){t=false}if(n===void 0){n=false}if(!J)fr();e.schedule(r,t,n);return r};r.cancelSync[t]=function(r){return e.cancel(r)};r.steps[t]=e;return r},{steps:{},sync:{},cancelSync:{}}),ar=nr.steps,ir=nr.sync,or=nr.cancelSync;var ur=function(r){return ar[r].process(rr)};var sr=function(r){J=false;rr.delta=K?G:Math.max(Math.min(r-rr.timestamp,$),1);if(!K)G=rr.delta;rr.timestamp=r;Q=true;tr.forEach(ur);Q=false;if(J){K=false;Z(sr)}};var fr=function(){J=true;K=true;if(!Q)Z(sr)};var cr=function(){return rr};var vr=1.525;var lr=function(r){return function(t){return 1-r(1-t)}};var dr=function(r){return function(t){return t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2}};var pr=lr;var hr=dr;var mr=function(r){return function(t){return Math.pow(t,r)}};var gr=function(r){return function(t){return t*t*((r+1)*t-r)}};var yr=function(r){var t=gr(r);return function(r){return(r*=2)<1?.5*t(r):.5*(2-Math.pow(2,-10*(r-1)))}};var br=function(r){return r};var wr=mr(2);var Or=lr(wr);var xr=dr(wr);var Cr=function(r){return 1-Math.sin(Math.acos(r))};var Mr=lr(Cr);var kr=dr(Mr);var Sr=gr(vr);var Pr=lr(Sr);var Ar=dr(Sr);var Er=yr(vr);var Rr=4/11;var Tr=8/11;var Lr=9/10;var Wr=4356/361;var jr=35442/1805;var Yr=16061/1805;var Ir=function(r){var t=r*r;return r<Rr?7.5625*t:r<Tr?9.075*t-9.9*r+3.4:r<Lr?Wr*t-jr*r+Yr:10.8*r*r-20.52*r+10.72};var Vr=function(r){return 1-Ir(1-r)};var Xr=function(r){return r<.5?.5*(1-Ir(1-r*2)):.5*Ir(r*2-1)+.5};var Hr=8;var zr=.001;var Br=1e-7;var Fr=10;var Dr=11;var Nr=1/(Dr-1);var _r=typeof Float32Array!=="undefined";var Zr=function(r,t){return 1-3*t+3*r};var qr=function(r,t){return 3*t-6*r};var Ur=function(r){return 3*r};var $r=function(r,t,e){return 3*Zr(t,e)*r*r+2*qr(t,e)*r+Ur(t)};var Gr=function(r,t,e){return((Zr(t,e)*r+qr(t,e))*r+Ur(t))*r};function Kr(r,t,e,n){var a=_r?new Float32Array(Dr):new Array(Dr);var i=function(t,n,a){var i=0;var o;var u;do{u=n+(a-n)/2;o=Gr(u,r,e)-t;if(o>0){a=u}else{n=u}}while(Math.abs(o)>Br&&++i<Fr);return u};var o=function(t,n){var a=0;var i=0;var o;for(;a<Hr;++a){i=$r(n,r,e);if(i===0){return n}o=Gr(n,r,e)-t;n-=o/i}return n};var u=function(){for(var t=0;t<Dr;++t){a[t]=Gr(t*Nr,r,e)}};var s=function(t){var n=0;var u=1;var s=Dr-1;var f=0;var c=0;var v=0;for(;u!==s&&a[u]<=t;++u){n+=Nr}--u;f=(t-a[u])/(a[u+1]-a[u]);c=n+f*Nr;v=$r(c,r,e);if(v>=zr){return o(t,c)}else if(v===0){return c}else{return i(t,n,n+Nr)}};u();var f=function(a){var i;if(r===t&&e===n){i=a}else if(a===0){i=0}else if(a===1){i=1}else{i=Gr(s(a),t,n)}return i};return f}var Jr=Object.freeze({reversed:lr,mirrored:dr,createReversedEasing:pr,createMirroredEasing:hr,createExpoIn:mr,createBackIn:gr,createAnticipateEasing:yr,linear:br,easeIn:wr,easeOut:Or,easeInOut:xr,circIn:Cr,circOut:Mr,circInOut:kr,backIn:Sr,backOut:Pr,backInOut:Ar,anticipate:Er,bounceOut:Ir,bounceIn:Vr,bounceInOut:Xr,cubicBezier:Kr});var Qr={x:0,y:0,z:0};var rt=function(r){return typeof r==="number"};var tt=function(r){return r*180/Math.PI};var et=function(r,t){if(t===void 0){t=Qr}return tt(Math.atan2(t.y-r.y,t.x-r.x))};var nt=function(r,t){var e=true;if(t===undefined){t=r;e=false}return function(n){if(e){return n-r+t}else{r=n;e=true;return t}}};var at=function(r){return function(t,e,n){return n!==undefined?r(t,e,n):function(n){return r(t,e,n)}}};var it=function(r,t,e){return Math.min(Math.max(e,r),t)};var ot=at(it);var ut=function(r,t){return function(e){return r(e)?t(e):e}};var st=function(r){return r*Math.PI/180};var ft=function(r){return r.hasOwnProperty("x")&&r.hasOwnProperty("y")};var ct=function(r){return ft(r)&&r.hasOwnProperty("z")};var vt=function(r,t){return Math.abs(r-t)};var lt=function(r,t){if(t===void 0){t=Qr}if(rt(r)&&rt(t)){return vt(r,t)}else if(ft(r)&&ft(t)){var e=vt(r.x,t.x);var n=vt(r.y,t.y);var a=ct(r)&&ct(t)?vt(r.z,t.z):0;return Math.sqrt(Math.pow(e,2)+Math.pow(n,2)+Math.pow(a,2))}return 0};var dt=function(r,t,e){var n=t-r;return n===0?1:(e-r)/n};var pt=function(r,t,e){return-e*r+e*t+r};var ht=function(){ht=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return ht.apply(this,arguments)};var mt=function(r,t,e){var n=r*r;var a=t*t;return Math.sqrt(Math.max(0,e*(a-n)+n))};var gt=[Y,L,j];var yt=function(r){return gt.find(function(t){return t.test(r)})};var bt=function(r){return"'"+r+"' is not an animatable color. Use the equivalent color code instead."};var wt=function(r,t){var e=yt(r);var n=yt(t);N(!!e,bt(r));N(!!n,bt(t));N(e.transform===n.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var a=e.parse(r);var i=n.parse(t);var o=ht({},a);var u=e===j?pt:mt;return function(r){for(var t in o){if(t!=="alpha"){o[t]=u(a[t],i[t],r)}}o.alpha=pt(a.alpha,i.alpha,r);return e.transform(o)}};var Ot=function(r,t){return function(e){return t(r(e))}};var xt=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return r.reduce(Ot)};var Ct=function(r,t){var e=r.slice();var n=e.length;var a=r.map(function(r,e){var n=t[e];if(rt(r)){return function(t){return pt(r,n,t)}}else if(I.test(r)){return wt(r,n)}else{return Mt(r,n)}});return function(r){for(var t=0;t<n;t++){e[t]=a[t](r)}return e}};var Mt=function(r,t){var e=B.createTransformer(r);N(e(r)===B.createTransformer(t)(r),"Values '"+r+"' and '"+t+"' are of different format, or a value might have changed value type.");return xt(Ct(B.parse(r),B.parse(t)),e)};var kt=function(r,t){return function(e){return pt(r,t,e)}};function St(r){if(typeof r==="number"){return kt}if(I.test(r)){return wt}else{return Mt}}function Pt(r,t,e){var n=[];var a=e||St(r[0]);var i=r.length-1;for(var o=0;o<i;o++){var u=a(r[o],r[o+1]);if(t){var s=Array.isArray(t)?t[o]:t;u=xt(s,u)}n.push(u)}return n}function At(r,t){var e=r[0],n=r[1];var a=t[0];return function(r){return a(dt(e,n,r))}}function Et(r,t){var e=r.length;var n=e-1;return function(a){var i=0;var o=false;if(a<=r[0]){o=true}else if(a>=r[n]){i=n-1;o=true}if(!o){var u=1;for(;u<e;u++){if(r[u]>a||u===n){break}}i=u-1}var s=dt(r[i],r[i+1],a);return t[i](s)}}function Rt(r,t,e){var n=e===void 0?{}:e,a=n.clamp,i=a===void 0?true:a,o=n.ease,u=n.mixer;var s=r.length;N(s===t.length,"Both input and output ranges must be the same length");N(!o||!Array.isArray(o)||o.length===s-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.");if(r[0]>r[s-1]){r=[].concat(r);t=[].concat(t);r.reverse();t.reverse()}var f=Pt(t,o,u);var c=s===2?At(r,f):Et(r,f);return i?xt(ot(r[0],r[s-1]),c):c}var Tt=function(r,t,e){t=st(t);return{x:e*Math.cos(t)+r.x,y:e*Math.sin(t)+r.y}};var Lt=function(r,t){if(t===void 0){t=2}t=Math.pow(10,t);return Math.round(r*t)/t};var Wt=function(r,t,e,n){if(n===void 0){n=0}return Lt(r+e*(t-r)/Math.max(n,e))};var jt=function(r){if(r===void 0){r=50}var t=0;var e=0;return function(n){var a=cr().timestamp;var i=a!==e?a-e:0;var o=i?Wt(t,n,i,r):t;e=a;t=o;return o}};var Yt=function(r){if(typeof r==="number"){return function(t){return Math.round(t/r)*r}}else{var t=0;var e=r.length;return function(n){var a=Math.abs(r[0]-n);for(t=1;t<e;t++){var i=r[t];var o=Math.abs(i-n);if(o===0)return i;if(o>a)return r[t-1];if(t===e-1)return i;a=o}}}};var It=function(r){return r};var Vt=function(r){if(r===void 0){r=It}return at(function(t,e,n){var a=e-n;var i=-(0-t+1)*(0-r(Math.abs(a)));return a<=0?e+i:e-i})};var Xt=Vt();var Ht=Vt(Math.sqrt);var zt=function(r,t){return rt(r)?r/(1e3/t):0};var Bt=function(r,t){return t?r*(1e3/t):0};var Ft=function(r,t,e){var n=t-r;return((e-r)%n+n)%n+r};var Dt=at(Ft);var Nt=ot(0,1);var _t=function(){_t=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return _t.apply(this,arguments)};function Zt(r,t){var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0)e[n]=r[n];if(r!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)if(t.indexOf(n[a])<0)e[n[a]]=r[n[a]];return e}var qt=function(r){var t=r.onRead,e=r.onRender,n=r.uncachedValues,a=n===void 0?new Set:n,i=r.useCache,o=i===void 0?true:i;return function(r){var n={};var i=[];var u=false;var s=function(r,t){var e=n[r];n[r]=t;if(n[r]!==e){if(i.indexOf(r)===-1){i.push(r)}if(!u){u=true;ir.render(f)}}};function f(t){if(t===void 0){t=false}if(t===true||u){e(n,r,i);u=false;i.length=0}return this}return{get:function(e){return e?o&&!a.has(e)&&n[e]!==undefined?n[e]:t(e,r):n},set:function(r,t){if(typeof r==="string"){if(t!==undefined){s(r,t)}else{return function(t){return s(r,t)}}}else{for(var e in r){if(r.hasOwnProperty(e)){s(e,r[e])}}}return this},render:f}}};var Ut=/([a-z])([A-Z])/g;var $t="$1-$2";var Gt=function(r){return r.replace(Ut,$t).toLowerCase()};var Kt=function(r,t){for(var e in t){if(t.hasOwnProperty(e)){r.setAttribute(e,t[e])}}};var Jt=new Map;var Qt=new Map;var re=["Webkit","Moz","O","ms",""];var te=re.length;var ee=typeof document!=="undefined";var ne;var ae=function(r,t){return Qt.set(r,Gt(t))};var ie=function(r){ne=ne||document.createElement("div");for(var t=0;t<te;t++){var e=re[t];var n=e==="";var a=n?r:e+r.charAt(0).toUpperCase()+r.slice(1);if(a in ne.style||n){Jt.set(r,a);ae(r,""+(n?"":"-")+Gt(a))}}};var oe=function(r){return ae(r,r)};var ue=function(r,t){if(t===void 0){t=false}var e=t?Qt:Jt;if(!e.has(r))ee?ie(r):oe(r);return e.get(r)||r};var se=["","X","Y","Z"];var fe=["scale","rotate","skew","transformPerspective"];var ce=fe.reduce(function(r,t){return se.reduce(function(r,e){r.push(t+e);return r},r)},["x","y","z"]);var ve=ce.reduce(function(r,t){r[t]=true;return r},{});var le=function(r){return ve[r]===true};var de=function(r,t){return ce.indexOf(r)-ce.indexOf(t)};var pe=function(r){return r==="originX"||r==="originY"};var he={color:I,backgroundColor:I,outlineColor:I,fill:I,stroke:I,borderColor:I,borderTopColor:I,borderRightColor:I,borderBottomColor:I,borderLeftColor:I,borderWidth:b,borderTopWidth:b,borderRightWidth:b,borderBottomWidth:b,borderLeftWidth:b,borderRadius:b,borderTopLeftRadius:b,borderTopRightRadius:b,borderBottomRightRadius:b,borderBottomLeftRadius:b,width:b,maxWidth:b,height:b,maxHeight:b,top:b,right:b,bottom:b,left:b,padding:b,paddingTop:b,paddingRight:b,paddingBottom:b,paddingLeft:b,margin:b,marginTop:b,marginRight:b,marginBottom:b,marginLeft:b,rotate:g,rotateX:g,rotateY:g,rotateZ:g,scale:h,scaleX:h,scaleY:h,scaleZ:h,skew:g,skewX:g,skewY:g,distance:b,x:b,y:b,z:b,perspective:b,opacity:p,originX:y,originY:y,originZ:b};var me=function(r){return he[r]};var ge="scrollLeft";var ye="scrollTop";var be=new Set([ge,ye]);var we=new Set([ge,ye,"transform"]);var Oe={x:"translateX",y:"translateY",z:"translateZ"};var xe=function(r){return typeof r==="function"};var Ce=function(r,t,e,n,a){var i="";var o=false;e.sort(de);var u=e.length;for(var s=0;s<u;s++){var f=e[s];i+=(Oe[f]||f)+"("+t[f]+") ";o=f==="z"?true:o}if(!o&&a){i+="translateZ(0)"}else{i=i.trim()}if(xe(r.transform)){i=r.transform(t,i)}else if(n){i="none"}return i};var Me=function(r,t,e,n,a,i,o){if(t===void 0){t=true}if(e===void 0){e={}}if(n===void 0){n={}}if(a===void 0){a={}}if(i===void 0){i=[]}if(o===void 0){o=false}var u=true;var s=false;var f=false;for(var c in r){var v=r[c];var l=me(c);var d=typeof v==="number"&&l?l.transform(v):v;if(le(c)){s=true;n[c]=d;i.push(c);if(u){if(l.default&&v!==l.default||!l.default&&v!==0){u=false}}}else if(pe(c)){a[c]=d;f=true}else if(!we.has(c)||!xe(d)){e[ue(c,o)]=d}}if(s||typeof r.transform==="function"){e.transform=Ce(r,n,i,u,t)}if(f){e.transformOrigin=(a.originX||0)+" "+(a.originY||0)+" "+(a.originZ||0)}return e};var ke=function(r){if(r===void 0){r=true}var t={};var e={};var n={};var a=[];return function(i){a.length=0;Me(i,r,t,e,n,a,true);return t}};var Se=qt({onRead:function(r,t){var e=t.element,n=t.preparseOutput;var a=me(r);if(le(r)){return a?a.default||0:0}else if(be.has(r)){return e[r]}else{var i=window.getComputedStyle(e,null).getPropertyValue(ue(r,true))||0;return n&&a&&a.parse?a.parse(i):i}},onRender:function(r,t,e){var n=t.element,a=t.buildStyles;Object.assign(n.style,a(r));if(e.indexOf(ge)!==-1)n.scrollLeft=r.scrollLeft;if(e.indexOf(ye)!==-1)n.scrollTop=r.scrollTop},uncachedValues:be});var Pe=function(r,t){if(t===void 0){t={}}var e=t.enableHardwareAcceleration,n=Zt(t,["enableHardwareAcceleration"]);return Se(_t({element:r,buildStyles:ke(e),preparseOutput:true},n))};var Ae=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]);var Ee=1e-7;var Re=function(r,t){return r/100*t+"px"};var Te=function(r,t,e,n){var a=false;var i=false;var o={};var u=e?{pathLength:"0",pathSpacing:""+n}:undefined;var s=r.scale!==undefined?r.scale||Ee:r.scaleX||1;var f=r.scaleY!==undefined?r.scaleY||Ee:s||1;var c=t.width*((r.originX||50)/100)+t.x;var v=t.height*((r.originY||50)/100)+t.y;var l=-c*(s*1);var d=-v*(f*1);var p=c/s;var h=v/f;var m={translate:"translate("+r.x+", "+r.y+") ",scale:"translate("+l+", "+d+") scale("+s+", "+f+") translate("+p+", "+h+") ",rotate:"rotate("+r.rotate+", "+c+", "+v+") ",skewX:"skewX("+r.skewX+") ",skewY:"skewY("+r.skewY+") "};for(var g in r){if(r.hasOwnProperty(g)){var y=r[g];if(le(g)){a=true}else if(e&&(g==="pathLength"||g==="pathSpacing")&&typeof y==="number"){i=true;u[g]=Re(y,n)}else if(e&&g==="pathOffset"){o["stroke-dashoffset"]=Re(-y,n)}else{var b=!Ae.has(g)?Gt(g):g;o[b]=y}}}if(i){o["stroke-dasharray"]=u.pathLength+" "+u.pathSpacing}if(a){o.transform="";for(var g in m){if(m.hasOwnProperty(g)){var w=g==="scale"?"1":"0";o.transform+=m[g].replace(/undefined/g,w)}}}return o};var Le=_t({},d,{transform:Math.round});var We={fill:I,stroke:I,scale:h,scaleX:h,scaleY:h,opacity:p,fillOpacity:p,strokeOpacity:p,numOctaves:Le};var je=function(r){return We[r]};var Ye=function(r){return typeof r.getBBox==="function"?r.getBBox():r.getBoundingClientRect()};var Ie=function(r){try{return Ye(r)}catch(r){return{x:0,y:0,width:0,height:0}}};var Ve=qt({onRead:function(r,t){var e=t.element;if(!le(r)){return e.getAttribute(r)}else{var n=je(r);return n?n.default:0}},onRender:function(r,t){var e=t.dimensions,n=t.element,a=t.isPath,i=t.pathLength;Kt(n,Te(r,e,a,i))}});var Xe=function(r){var t=Ie(r);var e={element:r,dimensions:t,isPath:false};if(r.tagName==="path"){e.isPath=true;e.pathLength=r.getTotalLength()}return Ve(e)};var He=qt({useCache:false,onRead:function(r){return r==="scrollTop"?window.pageYOffset:window.pageXOffset},onRender:function(r){var t=r.scrollTop,e=t===void 0?0:t,n=r.scrollLeft,a=n===void 0?0:n;return window.scrollTo(a,e)}});var ze=new WeakMap;var Be=function(r,t){var e;if(r instanceof HTMLElement){e=Pe(r,t)}else if(r instanceof SVGElement){e=Xe(r)}else if(r===window){e=He(r)}N(e!==undefined,"No valid node provided. Node must be HTMLElement, SVGElement or window.");ze.set(r,e);return e};var Fe=function(r,t){return ze.has(r)?ze.get(r):Be(r,t)};function De(r,t){var e=typeof r==="string"?document.querySelector(r):r;return Fe(e,t)}var Ne=function(){function r(r){if(r===void 0){r={}}this.props=r}r.prototype.applyMiddleware=function(r){return this.create(i({},this.props,{middleware:this.props.middleware?[r].concat(this.props.middleware):[r]}))};r.prototype.pipe=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}var e=r.length===1?r[0]:xt.apply(void 0,r);return this.applyMiddleware(function(r){return function(t){return r(e(t))}})};r.prototype.while=function(r){return this.applyMiddleware(function(t,e){return function(n){return r(n)?t(n):e()}})};r.prototype.filter=function(r){return this.applyMiddleware(function(t){return function(e){return r(e)&&t(e)}})};return r}();var _e=function(){function r(r,t){var e=r.middleware,n=r.onComplete;var a=this;this.isActive=true;this.update=function(r){if(a.observer.update)a.updateObserver(r)};this.complete=function(){if(a.observer.complete&&a.isActive)a.observer.complete();if(a.onComplete)a.onComplete();a.isActive=false};this.error=function(r){if(a.observer.error&&a.isActive)a.observer.error(r);a.isActive=false};this.observer=t;this.updateObserver=function(r){return t.update(r)};this.onComplete=n;if(t.update&&e&&e.length){e.forEach(function(r){return a.updateObserver=r(a.updateObserver,a.complete)})}}return r}();var Ze=function(r,t,e){var n=t.middleware;if(typeof r==="function"){return new _e({middleware:n,onComplete:e},{update:r})}else{return new _e({middleware:n,onComplete:e},r)}};var qe=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.create=function(r){return new t(r)};t.prototype.start=function(r){if(r===void 0){r={}}var t=false;var e={stop:function(){return undefined}};var n=this.props,a=n.init,u=o(n,["init"]);var s=Ze(r,u,function(){t=true;e.stop()});var f=a(s);e=f?i({},e,f):e;if(r.registerParent){r.registerParent(e)}if(t)e.stop();return e};return t}(Ne);var Ue=function(r){return new qe({init:r})};var $e=function(r){a(t,r);function t(){var t=r!==null&&r.apply(this,arguments)||this;t.subscribers=[];return t}t.prototype.complete=function(){this.subscribers.forEach(function(r){return r.complete()})};t.prototype.error=function(r){this.subscribers.forEach(function(t){return t.error(r)})};t.prototype.update=function(r){for(var t=0;t<this.subscribers.length;t++){this.subscribers[t].update(r)}};t.prototype.subscribe=function(r){var t=this;var e=Ze(r,this.props);this.subscribers.push(e);var n={unsubscribe:function(){var r=t.subscribers.indexOf(e);if(r!==-1)t.subscribers.splice(r,1)}};return n};t.prototype.stop=function(){if(this.parent)this.parent.stop()};t.prototype.registerParent=function(r){this.stop();this.parent=r};return t}(Ne);var Ge=function(r){a(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}t.prototype.create=function(r){return new t(r)};return t}($e);var Ke=function(){return new Ge};var Je=function(r,t){var e=1/(r-1);var n=1/(2*(r-1));var a=Math.min(t,1);var i=a/n;var o=Math.floor((i+1)/2);return o*e};var Qe=Object.freeze({angle:et,degreesToRadians:st,distance:lt,isPoint3D:ct,isPoint:ft,dilate:pt,getValueFromProgress:pt,pointFromAngleAndDistance:Tt,getProgressFromValue:dt,radiansToDegrees:tt,smooth:Wt,speedPerFrame:zt,speedPerSecond:Bt,stepProgress:Je});var rn=function(r){return Array.isArray(r)};var tn=function(r){var t=typeof r;return t==="string"||t==="number"};var en=function(r){a(t,r);function t(t){var e=r.call(this,t)||this;e.scheduleVelocityCheck=function(){return ir.postRender(e.velocityCheck)};e.velocityCheck=function(r){var t=r.timestamp;if(t!==e.lastUpdated){e.prev=e.current}};e.prev=e.current=t.value||0;if(tn(e.current)){e.updateCurrent=function(r){return e.current=r};e.getVelocityOfCurrent=function(){return e.getSingleVelocity(e.current,e.prev)}}else if(rn(e.current)){e.updateCurrent=function(r){return e.current=r.slice()};e.getVelocityOfCurrent=function(){return e.getListVelocity()}}else{e.updateCurrent=function(r){e.current={};for(var t in r){if(r.hasOwnProperty(t)){e.current[t]=r[t]}}};e.getVelocityOfCurrent=function(){return e.getMapVelocity()}}if(t.initialSubscription)e.subscribe(t.initialSubscription);return e}t.prototype.create=function(r){return new t(r)};t.prototype.get=function(){return this.current};t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()};t.prototype.update=function(t){r.prototype.update.call(this,t);this.prev=this.current;this.updateCurrent(t);var e=cr(),n=e.delta,a=e.timestamp;this.timeDelta=n;this.lastUpdated=a;ir.postRender(this.scheduleVelocityCheck)};t.prototype.subscribe=function(t){var e=r.prototype.subscribe.call(this,t);this.subscribers[this.subscribers.length-1].update(this.current);return e};t.prototype.getSingleVelocity=function(r,t){return typeof r==="number"&&typeof t==="number"?Bt(r-t,this.timeDelta):Bt(parseFloat(r)-parseFloat(t),this.timeDelta)||0};t.prototype.getListVelocity=function(){var r=this;return this.current.map(function(t,e){return r.getSingleVelocity(t,r.prev[e])})};t.prototype.getMapVelocity=function(){var r={};for(var t in this.current){if(this.current.hasOwnProperty(t)){r[t]=this.getSingleVelocity(this.current[t],this.prev[t])}}return r};return t}($e);var nn=function(r,t){return new en({value:r,initialSubscription:t})};var an=function(r){var t=r.getCount,e=r.getFirst,n=r.getOutput,a=r.mapApi,i=r.setProp,o=r.startActions;return function(r){return Ue(function(u){var s=u.update,f=u.complete,c=u.error;var v=t(r);var l=n();var d=function(){return s(l)};var p=0;var h=o(r,function(r,t){var e=false;return r.start({complete:function(){if(!e){e=true;p++;if(p===v)ir.update(f)}},error:c,update:function(r){i(l,t,r);ir.update(d,false,true)}})});return Object.keys(e(h)).reduce(function(r,t){r[t]=a(h,t);return r},{})})}};var on=an({getOutput:function(){return{}},getCount:function(r){return Object.keys(r).length},getFirst:function(r){return r[Object.keys(r)[0]]},mapApi:function(r,t){return function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}return Object.keys(r).reduce(function(n,a){var i;if(r[a][t]){e[0]&&e[0][a]!==undefined?n[a]=r[a][t](e[0][a]):n[a]=(i=r[a])[t].apply(i,e)}return n},{})}},setProp:function(r,t,e){return r[t]=e},startActions:function(r,t){return Object.keys(r).reduce(function(e,n){e[n]=t(r[n],n);return e},{})}});var un=an({getOutput:function(){return[]},getCount:function(r){return r.length},getFirst:function(r){return r[0]},mapApi:function(r,t){return function(){var e=[];for(var n=0;n<arguments.length;n++){e[n]=arguments[n]}return r.map(function(r,n){if(r[t]){return Array.isArray(e[0])?r[t](e[0][n]):r[t].apply(r,e)}})}},setProp:function(r,t,e){return r[t]=e},startActions:function(r,t){return r.map(function(r,e){return t(r,e)})}});var sn=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return un(r)};var fn=function(r){var t=Object.keys(r);var e=function(t,e){return t!==undefined&&!r[e](t)};var n=function(r){return t.reduce(function(t,n){if(e(r[n],n))t.push(n);return t},[])};var a=function(r){return r&&t.some(function(t){return e(r[t],t)})};return{getVectorKeys:n,testVectorProps:a}};var cn=[b,y,g,w,O];var vn=function(r){return cn.find(function(t){return t.test(r)})};var ln=function(r){return Boolean(vn(r))};var dn=function(r,t){return r(t)};var pn=function(r){return function(t,e){t[e]=t[e][r];return t}};var hn=function(r,t,e){var n=e[0];var a=t[n].map(function(n,a){var o=e.reduce(pn(a),i({},t));return xn(n)(r,o)});return sn.apply(void 0,a)};var mn=function(r){return function(t,e){t[e]=t[e][r];return t}};var gn=function(r,t,e){var n=e[0];var a=Object.keys(t[n]).reduce(function(a,o){var u=e.reduce(mn(o),i({},t));a[o]=xn(t[n][o])(r,u);return a},{});return on(a)};var yn=function(r,t){var e=t.from,n=t.to,a=o(t,["from","to"]);var u=vn(e)||vn(n);var s=u.transform,f=u.parse;return r(i({},a,{from:typeof e==="string"?f(e):e,to:typeof n==="string"?f(n):n})).pipe(s)};var bn=function(r,t){var e=t.from,n=t.to,a=o(t,["from","to"]);return r(i({},a,{from:0,to:1})).pipe(wt(e,n),I.transform)};var wn=function(r,t){var e=t.from,n=t.to,a=o(t,["from","to"]);var u=B.createTransformer(e);N(u(e)===B.createTransformer(n)(e),"Values '"+e+"' and '"+n+"' are of different format, or a value might have changed value type.");return r(i({},a,{from:0,to:1})).pipe(Ct(B.parse(e),B.parse(n)),u)};var On=function(r,t){var e=fn(t),n=e.testVectorProps,a=e.getVectorKeys;var i=function(t){var e=n(t);if(!e)return r(t);var i=a(t);var o=i[0];var u=t[o];return xn(u)(r,t,i)};return i};var xn=function(r){var t=dn;if(typeof r==="number"){t=dn}else if(Array.isArray(r)){t=hn}else if(ln(r)){t=yn}else if(I.test(r)){t=bn}else if(B.test(r)){t=wn}else if(typeof r==="object"){t=gn}return t};var Cn=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.complete,n=t.update;var a=r.velocity,i=a===void 0?0:a,o=r.from,u=o===void 0?0:o,s=r.power,f=s===void 0?.8:s,c=r.timeConstant,v=c===void 0?350:c,l=r.restDelta,d=l===void 0?.5:l,p=r.modifyTarget;var h=0;var m=f*i;var g=Math.round(u+m);var y=typeof p==="undefined"?g:p(g);var b=ir.update(function(r){var t=r.delta;h+=t;var a=-m*Math.exp(-h/v);var i=a>d||a<-d;var o=i?y+a:y;n(o);if(!i){or.update(b);e()}},true);return{stop:function(){return or.update(b)}}})};var Mn=On(Cn,{from:d.test,modifyTarget:function(r){return typeof r==="function"},velocity:d.test});var kn=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.update,n=t.complete;var a=r.velocity,i=a===void 0?0:a;var o=r.from,u=o===void 0?0:o,s=r.to,f=s===void 0?0:s,c=r.stiffness,v=c===void 0?100:c,l=r.damping,d=l===void 0?10:l,p=r.mass,h=p===void 0?1:p,m=r.restSpeed,g=m===void 0?.01:m,y=r.restDelta,b=y===void 0?.01:y;var w=i?-(i/1e3):0;var O=0;var x=f-u;var C=u;var M=C;var k=ir.update(function(r){var t=r.delta;O+=t;var a=d/(2*Math.sqrt(v*h));var o=Math.sqrt(v/h)/1e3;M=C;if(a<1){var u=Math.exp(-a*o*O);var s=o*Math.sqrt(1-a*a);C=f-u*((w+a*o*x)/s*Math.sin(s*O)+x*Math.cos(s*O))}else{var u=Math.exp(-o*O);C=f-u*(x+(w+o*x)*O)}i=Bt(C-M,t);var c=Math.abs(i)<=g;var l=Math.abs(f-C)<=b;if(c&&l){C=f;e(C);or.update(k);n()}else{e(C)}},true);return{stop:function(){return or.update(k)}}})};var Sn=On(kn,{from:d.test,to:d.test,stiffness:d.test,damping:d.test,mass:d.test,velocity:d.test});var Pn=function(r){var t=r.from,e=t===void 0?0:t,n=r.velocity,a=n===void 0?0:n,o=r.min,u=r.max,s=r.power,f=s===void 0?.8:s,c=r.timeConstant,v=c===void 0?700:c,l=r.bounceStiffness,d=l===void 0?500:l,p=r.bounceDamping,h=p===void 0?10:p,m=r.restDelta,g=m===void 0?1:m,y=r.modifyTarget;return Ue(function(r){var t=r.update,n=r.complete;var s=nn(e);var c;var l=false;var p=function(r){return o!==undefined&&r<=o};var m=function(r){return u!==undefined&&r>=u};var b=function(r){return p(r)||m(r)};var w=function(r,t){return p(r)&&t<0||m(r)&&t>0};var O=function(r,t){c&&c.stop();c=r.start({update:function(r){return s.update(r)},complete:function(){if(t){t();return}n()}})};var x=function(r){l=true;O(Sn(i({},r,{to:p(r.from)?o:u,stiffness:d,damping:h,restDelta:g})))};s.subscribe(function(r){t(r);var e=s.getVelocity();if(c&&!l&&w(r,e)){x({from:r,velocity:e})}});if(b(e)){x({from:e,velocity:a})}else if(a!==0){var C=Mn({from:e,velocity:a,timeConstant:v,power:f,restDelta:b(e)?20:g,modifyTarget:y});O(C,function(){var r=s.get();if(b(r)){x({from:r,velocity:s.getVelocity()})}else{n()}})}else{n()}return{stop:function(){return c&&c.stop()}}})};var An=On(Pn,{from:d.test,velocity:d.test,min:d.test,max:d.test,damping:d.test,stiffness:d.test,modifyTarget:function(r){return typeof r==="function"}});var En=function(){return Ue(function(r){var t=r.update;var e=0;var n=ir.update(function(r){var n=r.timestamp;if(!e)e=n;t(n-e)},true,true);return{stop:function(){return or.update(n)}}})};var Rn=function(r){var t=r.from,e=t===void 0?0:t,n=r.to,a=n===void 0?1:n,i=r.ease,o=i===void 0?br:i;return Ue(function(r){var t=r.update;return{seek:function(r){return t(r)}}}).pipe(o,function(r){return pt(e,a,r)})};var Tn=On(Rn,{ease:function(r){return typeof r==="function"},from:d.test,to:d.test});var Ln=ot(0,1);var Wn=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.update,n=t.complete;var a=r.duration,i=a===void 0?300:a,o=r.ease,u=o===void 0?Or:o,s=r.flip,f=s===void 0?0:s,c=r.loop,v=c===void 0?0:c,l=r.yoyo,d=l===void 0?0:l;var p=r.from,h=p===void 0?0:p,m=r.to,g=m===void 0?1:m,y=r.elapsed,b=y===void 0?0:y,w=r.playDirection,O=w===void 0?1:w,x=r.flipCount,C=x===void 0?0:x,M=r.yoyoCount,k=M===void 0?0:M,S=r.loopCount,P=S===void 0?0:S;var A=Tn({from:h,to:g,ease:u}).start(e);var E=0;var R;var T=false;var L=function(){if(b>i){var r=b-i;b=b-r*2}else if(b<0){var r=-1*b;b=b+r*2}O*=-1};var W=function(){var r;var t=O===1?T&&b>=i:T&&b<=0;if(!t)return false;if(t&&!v&&!f&&!d)return true;var n=false;if(v&&P<v){b=i-b;P++;n=true}else if(f&&C<f){b=i-b;r=[g,h],h=r[0],g=r[1];A=Tn({from:h,to:g,ease:u}).start(e);C++;n=true}else if(d&&k<d){L();k++;n=true}return!n};var j=function(){E=Ln(dt(0,i,b));A.seek(E)};var Y=function(){T=true;R=ir.update(function(r){var t=r.delta;b+=t*O;j();if(W()&&n){or.update(R);ir.update(n,false,true)}},true)};var I=function(){T=false;if(R)or.update(R)};Y();return{isActive:function(){return T},getElapsed:function(){return ot(0,i,b)},getProgress:function(){return E},stop:function(){I()},pause:function(){I();return this},resume:function(){if(!T)Y();return this},seek:function(r){b=pt(0,i,r);ir.update(j,false,true);return this},reverse:function(){L();return this}}})};var jn=ot(0,1);var Yn=function(r,t){return r.map(function(){return t||Or}).splice(0,r.length-1)};var In=function(r){var t=r.length;return r.map(function(r,e){return e!==0?e/(t-1):0})};var Vn=function(r,t,e){var n=r.length;var a=n-1;var i=a-1;var o=t.map(function(r){return r.start(e)});return function(t){if(t<=r[0]){o[0].seek(0)}if(t>=r[a]){o[i].seek(1)}var e=1;for(;e<n;e++){if(r[e]>t||e===a)break}var u=dt(r[e-1],r[e],t);o[e-1].seek(jn(u))}};var Xn=function(r){var t=r.easings,e=r.ease,n=e===void 0?br:e,a=r.times,u=r.values,s=o(r,["easings","ease","times","values"]);t=Array.isArray(t)?t:Yn(u,t);a=a||In(u);var f=t.map(function(r,t){return Tn({from:u[t],to:u[t+1],ease:r})});return Wn(i({},s,{ease:n})).applyMiddleware(function(r){return Vn(a,f,r)})};var Hn=function(r){if(r===void 0){r={}}return Ue(function(t){var e=t.complete,n=t.update;var a=r.acceleration,i=a===void 0?0:a,o=r.friction,u=o===void 0?0:o,s=r.velocity,f=s===void 0?0:s,c=r.springStrength,v=r.to;var l=r.restSpeed,d=l===void 0?.001:l,p=r.from,h=p===void 0?0:p;var m=h;var g=ir.update(function(r){var t=r.delta;var a=Math.max(t,16);if(i)f+=zt(i,a);if(u)f*=Math.pow(1-u,a/100);if(c!==undefined&&v!==undefined){var o=v-m;f+=o*zt(c,a)}m+=zt(f,a);n(m);var s=d!==false&&(!f||Math.abs(f)<=d);if(s){or.update(g);e()}},true);return{set:function(r){m=r;return this},setAcceleration:function(r){i=r;return this},setFriction:function(r){u=r;return this},setSpringStrength:function(r){c=r;return this},setSpringTarget:function(r){v=r;return this},setVelocity:function(r){f=r;return this},stop:function(){return or.update(g)}}})};var zn=On(Hn,{acceleration:d.test,friction:d.test,velocity:d.test,from:d.test,to:d.test,springStrength:d.test});var Bn=300;var Fn=function(r){var t=[];var e=r[r.length-1];var n=typeof e==="number";var a=n?e:0;var i=n?r.slice(0,-1):r;var o=i.length;var u=0;i.forEach(function(r,e){t.push(r);if(e!==o-1){var n=r.duration||Bn;u+=a;t.push("-"+(n-u))}});return t};var Dn=function(r,t){Array.isArray(t)?r.push.apply(r,Fn(t)):r.push(t);return r};var Nn=function(r,t,e){var n=r.duration,a=r.easings,i=r.times,o=r.values;var u=o.length;var s=i[u-1];var f=t.at===0?0:t.at/n;var c=(t.at+t.duration)/n;if(e===0){o.push(t.from);i.push(f)}else{if(s!==f){if(t.from!==undefined){o.push(o[u-1]);i.push(f);a.push(br)}var v=t.from!==undefined?t.from:o[u-1];o.push(v);i.push(f);a.push(br)}else if(t.from!==undefined){o.push(t.from);i.push(f);a.push(br)}}o.push(t.to);i.push(c);a.push(t.ease||xr);return r};var _n=function(r,t){var e=t===void 0?{}:t,n=e.duration,a=e.elapsed,o=e.ease,u=e.loop,s=e.flip,f=e.yoyo;var c=0;var v=0;var l=r.reduce(Dn,[]);var d=[];l.forEach(function(r){if(typeof r==="string"){c+=parseFloat(r)}else if(typeof r==="number"){c=r}else{var t=i({},r,{at:c});t.duration=t.duration===undefined?Bn:t.duration;d.push(t);c+=t.duration;v=Math.max(v,t.at+t.duration)}});var p={};var h=d.length;for(var m=0;m<h;m++){var g=d[m];var y=g.track;if(y===undefined){throw new Error("No track defined")}if(!p.hasOwnProperty(y))p[y]=[];p[y].push(g)}var b={};for(var w in p){if(p.hasOwnProperty(w)){var O=p[w].reduce(Nn,{duration:v,easings:[],times:[],values:[]});b[w]=Xn(i({},O,{duration:n||v,ease:o,elapsed:a,loop:u,yoyo:f,flip:s}))}}return on(b)};var Zn=function(r,t,e){return Ue(function(n){var a=n.update;var i=t.split(" ").map(function(t){r.addEventListener(t,a,e);return t});return{stop:function(){return i.forEach(function(t){return r.removeEventListener(t,a,e)})}}})};var qn=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}};var Un=function(r,t){if(t===void 0){t=qn()}t.clientX=t.x=r.clientX;t.clientY=t.y=r.clientY;t.pageX=r.pageX;t.pageY=r.pageY;return t};var $n=[qn()];var Gn=false;if(typeof document!=="undefined"){var Kn=function(r){var t=r.touches;Gn=true;var e=t.length;$n.length=0;for(var n=0;n<e;n++){var a=t[n];$n.push(Un(a))}};Zn(document,"touchstart touchmove",{passive:true,capture:true}).start(Kn)}var Jn=function(r){var t=r===void 0?{}:r,e=t.preventDefault,n=e===void 0?true:e,a=t.scale,i=a===void 0?1:a,o=t.rotate,u=o===void 0?0:o;return Ue(function(r){var t=r.update;var e={touches:$n,scale:i,rotate:u};var a=0;var o=0;var s=$n.length>1;if(s){var f=$n[0],c=$n[1];a=lt(f,c);o=et(f,c)}var v=function(){if(s){var r=$n[0],n=$n[1];var f=lt(r,n);var c=et(r,n);e.scale=i*(f/a);e.rotate=u+(c-o)}t(e)};var l=function(r){if(n||r.touches.length>1)r.preventDefault();ir.update(v)};var d=Zn(document,"touchmove",{passive:!n}).start(l);if(Gn)ir.update(v);return{stop:function(){or.update(v);d.stop()}}})};var Qn=function(){return Gn};var ra=qn();var ta=false;if(typeof document!=="undefined"){var ea=function(r){ta=true;Un(r,ra)};Zn(document,"mousedown mousemove",true).start(ea)}var na=function(r){var t=(r===void 0?{}:r).preventDefault,e=t===void 0?true:t;return Ue(function(r){var t=r.update;var n=function(){return t(ra)};var a=function(r){if(e)r.preventDefault();ir.update(n)};var i=Zn(document,"mousemove").start(a);if(ta)ir.update(n);return{stop:function(){or.update(n);i.stop()}}})};var aa=function(r){var t=r[0];return t};var ia=function(r){if(r===void 0){r={}}return Qn()?Jn(r).pipe(function(r){var t=r.touches;return t},aa):na(r)};var oa=function(r){if(r===void 0){r={}}var t=r.x,e=r.y,n=o(r,["x","y"]);if(t!==undefined||e!==undefined){var a=nt(t||0);var i=nt(e||0);var u={x:0,y:0};return ia(n).pipe(function(r){u.x=a(r.x);u.y=i(r.y);return u})}else{return ia(n)}};var ua=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return Ue(function(t){var e=t.update,n=t.complete;var a=0;var i;var o=function(){i=r[a].start({complete:function(){a++;a>=r.length?n():o()},update:e})};o();return{stop:function(){return i&&i.stop()}}})};var sa=function(r,t){return Ue(function(e){var n=0;var a=sn(r,t).start(i({},e,{update:function(r){var t=r[0],a=r[1];e.update(pt(t,a,n))}}));return{setBalance:function(r){return n=r},stop:function(){return a.stop()}}})};var fa=function(r){return Ue(function(t){var e=t.complete;var n=setTimeout(e,r);return{stop:function(){return clearTimeout(n)}}})};var ca=function(){var r=[];for(var t=0;t<arguments.length;t++){r[t]=arguments[t]}return Ue(function(t){var e=r.map(function(r){return r.start(t)});return{stop:function(){return e.forEach(function(r){return r.stop()})}}})};var va=function(r,t){return Ue(function(e){var n=e.update,a=e.complete;var i;var o=r.start({update:function(){return i!==undefined&&n(i)},complete:a});var u=t.start({update:function(r){return i=r},complete:a});return{stop:function(){o.stop();u.stop()}}})};var la=function(r,t){var e=typeof t==="number";var n=r.map(function(r,n){var a=e?t*n:t(n);return ua(fa(a),r)});return sn.apply(void 0,n)};var da=function(r){return function(t){return""+t+r}};var pa=function(r,t,e){if(t===void 0){t=0}if(e===void 0){e=1}return function(n){var a=dt(t,e,n);return pt(t,e,Je(r,a))}};var ha=function(r){return function(t){var e=i({},t);for(var n in r){if(r.hasOwnProperty(n)){var a=r[n];e[n]=a(t[n])}}return e}};var ma=Object.freeze({applyOffset:nt,clamp:ot,conditional:ut,interpolate:Rt,blendArray:Ct,blendColor:wt,pipe:xt,smooth:jt,snap:Yt,generateStaticSpring:Vt,nonlinearSpring:Ht,linearSpring:Xt,wrap:Dt,appendUnit:da,steps:pa,transformMap:ha});var ga=function(r,t){D(false,"css() is deprecated, use styler instead");return De(r,t)};var ya=function(r,t){D(false,"svg() is deprecated, use styler instead");return De(r,t)};var ba=Object.freeze({valueTypes:F,easing:Jr,action:Ue,multicast:Ke,value:nn,decay:Mn,inertia:An,keyframes:Xn,everyFrame:En,physics:zn,spring:Sn,timeline:_n,tween:Wn,listen:Zn,pointer:oa,mouse:na,multitouch:Jn,chain:ua,composite:on,crossfade:sa,delay:fa,merge:ca,parallel:sn,schedule:va,stagger:la,calc:Qe,transform:ma,css:ga,svg:ya,Action:qe,ValueReaction:en,styler:De});var wa=function(){wa=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return wa.apply(this,arguments)};var Oa=function(r,t){return function(e){return Math.max(Math.min(e,t),r)}};var xa=function(r){return r%1?Number(r.toFixed(5)):r};var Ca=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i;var Ma={test:function(r){return typeof r==="number"},parse:parseFloat,transform:function(r){return r}};var ka=wa({},Ma,{transform:Oa(0,1)});var Sa=wa({},Ma,{default:1});var Pa=function(r){return{test:function(t){return typeof t==="string"&&t.endsWith(r)&&t.split(" ").length===1},parse:parseFloat,transform:function(t){return""+t+r}}};var Aa=Pa("deg");var Ea=Pa("%");var Ra=Pa("px");var Ta=wa({},Ea,{parse:function(r){return Ea.parse(r)/100},transform:function(r){return Ea.transform(r*100)}});var La=function(r){return r.substring(r.indexOf("(")+1,r.lastIndexOf(")"))};var Wa=Oa(0,255);var ja=function(r){return r.red!==undefined};var Ya=function(r){return r.hue!==undefined};var Ia=function(r){return function(t){if(typeof t!=="string")return t;var e={};var n=La(t).split(/,\s*/);for(var a=0;a<4;a++){e[r[a]]=n[a]!==undefined?parseFloat(n[a]):1}return e}};var Va=function(r){var t=r.red,e=r.green,n=r.blue,a=r.alpha,i=a===void 0?1:a;return"rgba("+t+", "+e+", "+n+", "+i+")"};var Xa=function(r){var t=r.hue,e=r.saturation,n=r.lightness,a=r.alpha,i=a===void 0?1:a;return"hsla("+t+", "+e+", "+n+", "+i+")"};var Ha=wa({},Ma,{transform:function(r){return Math.round(Wa(r))}});function za(r,t){return r.startsWith(t)&&Ca.test(r)}var Ba={test:function(r){return typeof r==="string"?za(r,"rgb"):ja(r)},parse:Ia(["red","green","blue","alpha"]),transform:function(r){var t=r.red,e=r.green,n=r.blue,a=r.alpha;return Va({red:Ha.transform(t),green:Ha.transform(e),blue:Ha.transform(n),alpha:xa(a)})}};var Fa={test:function(r){return typeof r==="string"?za(r,"hsl"):Ya(r)},parse:Ia(["hue","saturation","lightness","alpha"]),transform:function(r){var t=r.hue,e=r.saturation,n=r.lightness,a=r.alpha;return Xa({hue:Math.round(t),saturation:Ea.transform(xa(e)),lightness:Ea.transform(xa(n)),alpha:xa(a)})}};var Da=wa({},Ba,{test:function(r){return typeof r==="string"&&za(r,"#")},parse:function(r){var t="";var e="";var n="";if(r.length>4){t=r.substr(1,2);e=r.substr(3,2);n=r.substr(5,2)}else{t=r.substr(1,1);e=r.substr(2,1);n=r.substr(3,1);t+=t;e+=e;n+=n}return{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:1}}});var Na={test:function(r){return typeof r==="string"&&Ca.test(r)||ja(r)||Ya(r)},parse:function(r){if(Ba.test(r)){return Ba.parse(r)}else if(Fa.test(r)){return Fa.parse(r)}else if(Da.test(r)){return Da.parse(r)}return r},transform:function(r){if(ja(r)){return Ba.transform(r)}else if(Ya(r)){return Fa.transform(r)}return r}};var _a=function(){_a=Object.assign||function r(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return _a.apply(this,arguments)};function Za(r,t){var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0)e[n]=r[n];if(r!=null&&typeof Object.getOwnPropertySymbols==="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)if(t.indexOf(n[a])<0)e[n[a]]=r[n[a]];return e}var qa=function(r){var t=r.onRead,e=r.onRender,n=r.uncachedValues,a=n===void 0?new Set:n,i=r.useCache,o=i===void 0?true:i;return function(r){if(r===void 0){r={}}var n=Za(r,[]);var i={};var u=[];var s=false;function f(r,t){if(r.startsWith("--")){n.hasCSSVariable=true}var e=i[r];i[r]=t;if(i[r]===e)return;if(u.indexOf(r)===-1){u.push(r)}if(!s){s=true;ir.render(c.render)}}var c={get:function(r,e){if(e===void 0){e=false}var u=!e&&o&&!a.has(r)&&i[r]!==undefined;return u?i[r]:t(r,n)},set:function(r,t){if(typeof r==="string"){f(r,t)}else{for(var e in r){f(e,r[e])}}return this},render:function(r){if(r===void 0){r=false}if(s||r===true){e(i,n,u);s=false;u.length=0}return this}};return c}};var Ua=/([a-z])([A-Z])/g;var $a="$1-$2";var Ga=function(r){return r.replace(Ua,$a).toLowerCase()};var Ka=function(r,t){for(var e in t){if(t.hasOwnProperty(e)){r.setAttribute(e,t[e])}}};var Ja=new Map;var Qa=new Map;var ri=["Webkit","Moz","O","ms",""];var ti=ri.length;var ei=typeof document!=="undefined";var ni;var ai=function(r,t){return Qa.set(r,Ga(t))};var ii=function(r){ni=ni||document.createElement("div");for(var t=0;t<ti;t++){var e=ri[t];var n=e==="";var a=n?r:e+r.charAt(0).toUpperCase()+r.slice(1);if(a in ni.style||n){Ja.set(r,a);ai(r,""+(n?"":"-")+Ga(a))}}};var oi=function(r){return ai(r,r)};var ui=function(r,t){if(t===void 0){t=false}var e=t?Qa:Ja;if(!e.has(r))ei?ii(r):oi(r);return e.get(r)||r};var si=["","X","Y","Z"];var fi=["scale","rotate","skew","transformPerspective"];var ci=fi.reduce(function(r,t){return si.reduce(function(r,e){r.push(t+e);return r},r)},["x","y","z"]);var vi=ci.reduce(function(r,t){r[t]=true;return r},{});function li(r){return vi[r]===true}function di(r,t){return ci.indexOf(r)-ci.indexOf(t)}var pi=new Set(["originX","originY","originZ"]);function hi(r){return pi.has(r)}var mi=_a({},Ma,{transform:Math.round});var gi={color:Na,backgroundColor:Na,outlineColor:Na,fill:Na,stroke:Na,borderColor:Na,borderTopColor:Na,borderRightColor:Na,borderBottomColor:Na,borderLeftColor:Na,borderWidth:Ra,borderTopWidth:Ra,borderRightWidth:Ra,borderBottomWidth:Ra,borderLeftWidth:Ra,borderRadius:Ra,radius:Ra,borderTopLeftRadius:Ra,borderTopRightRadius:Ra,borderBottomRightRadius:Ra,borderBottomLeftRadius:Ra,width:Ra,maxWidth:Ra,height:Ra,maxHeight:Ra,size:Ra,top:Ra,right:Ra,bottom:Ra,left:Ra,padding:Ra,paddingTop:Ra,paddingRight:Ra,paddingBottom:Ra,paddingLeft:Ra,margin:Ra,marginTop:Ra,marginRight:Ra,marginBottom:Ra,marginLeft:Ra,rotate:Aa,rotateX:Aa,rotateY:Aa,rotateZ:Aa,scale:Sa,scaleX:Sa,scaleY:Sa,scaleZ:Sa,skew:Aa,skewX:Aa,skewY:Aa,distance:Ra,x:Ra,y:Ra,z:Ra,perspective:Ra,opacity:ka,originX:Ta,originY:Ta,originZ:Ra,zIndex:mi};var yi=function(r){return gi[r]};var bi=function(r,t){return t&&typeof r==="number"?t.transform(r):r};var wi="scrollLeft";var Oi="scrollTop";var xi=new Set([wi,Oi]);var Ci=new Set([wi,Oi,"transform"]);var Mi={x:"translateX",y:"translateY",z:"translateZ"};function ki(r){return typeof r==="function"}function Si(r,t,e,n,a){var i="";var o=false;e.sort(di);var u=e.length;for(var s=0;s<u;s++){var f=e[s];i+=(Mi[f]||f)+"("+t[f]+") ";o=f==="z"?true:o}if(!o&&a){i+="translateZ(0)"}else{i=i.trim()}if(ki(r.transform)){i=r.transform(t,i)}else if(n){i="none"}return i}function Pi(r,t,e,n,a,i,o){if(t===void 0){t=true}if(e===void 0){e={}}if(n===void 0){n={}}if(a===void 0){a={}}if(i===void 0){i=[]}if(o===void 0){o=false}var u=true;var s=false;var f=false;for(var c in r){var v=r[c];var l=yi(c);var d=bi(v,l);if(li(c)){s=true;n[c]=d;i.push(c);if(u){if(l.default&&v!==l.default||!l.default&&v!==0){u=false}}}else if(hi(c)){a[c]=d;f=true}else if(!Ci.has(c)||!ki(d)){e[ui(c,o)]=d}}if(s||typeof r.transform==="function"){e.transform=Si(r,n,i,u,t)}if(f){e.transformOrigin=(a.originX||0)+" "+(a.originY||0)+" "+(a.originZ||0)}return e}function Ai(r){if(r===void 0){r=true}var t={};var e={};var n={};var a=[];return function(i){a.length=0;Pi(i,r,t,e,n,a,true);return t}}function Ei(r,t){var e=t.element,n=t.preparseOutput;var a=yi(r);if(li(r)){return a?a.default||0:0}else if(xi.has(r)){return e[r]}else{var i=window.getComputedStyle(e,null).getPropertyValue(ui(r,true))||0;return n&&a&&a.test(i)&&a.parse?a.parse(i):i}}function Ri(r,t,e){var n=t.element,a=t.buildStyles,i=t.hasCSSVariable;Object.assign(n.style,a(r));if(i){var o=e.length;for(var u=0;u<o;u++){var s=e[u];if(s.startsWith("--")){n.style.setProperty(s,r[s])}}}if(e.indexOf(wi)!==-1){n[wi]=r[wi]}if(e.indexOf(Oi)!==-1){n[Oi]=r[Oi]}}var Ti=qa({onRead:Ei,onRender:Ri,uncachedValues:xi});function Li(r,t){if(t===void 0){t={}}var e=t.enableHardwareAcceleration,n=Za(t,["enableHardwareAcceleration"]);return Ti(_a({element:r,buildStyles:Ai(e),preparseOutput:true},n))}var Wi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]);var ji=1e-7;var Yi=function(r,t){return r*t+"px"};var Ii=function(r,t,e,n){var a=false;var i=false;var o={};var u=e?{pathLength:"0",pathSpacing:""+n}:undefined;var s=r.scale!==undefined?r.scale||ji:r.scaleX||1;var f=r.scaleY!==undefined?r.scaleY||ji:s||1;var c=t.width*(r.originX||50)+t.x;var v=t.height*(r.originY||50)+t.y;var l=-c*(s*1);var d=-v*(f*1);var p=c/s;var h=v/f;var m={translate:"translate("+r.x+", "+r.y+") ",scale:"translate("+l+", "+d+") scale("+s+", "+f+") translate("+p+", "+h+") ",rotate:"rotate("+r.rotate+", "+c+", "+v+") ",skewX:"skewX("+r.skewX+") ",skewY:"skewY("+r.skewY+") "};for(var g in r){if(r.hasOwnProperty(g)){var y=r[g];if(li(g)){a=true}else if(e&&(g==="pathLength"||g==="pathSpacing")&&typeof y==="number"){i=true;u[g]=Yi(y,n)}else if(e&&g==="pathOffset"){o["stroke-dashoffset"]=Yi(-y,n)}else{var b=!Wi.has(g)?Ga(g):g;o[b]=y}}}if(i){o["stroke-dasharray"]=u.pathLength+" "+u.pathSpacing}if(a){o.transform="";for(var g in m){if(m.hasOwnProperty(g)){var w=g==="scale"?"1":"0";o.transform+=m[g].replace(/undefined/g,w)}}}return o};var Vi=_a({},Ma,{transform:Math.round});var Xi={fill:Na,stroke:Na,scale:Sa,scaleX:Sa,scaleY:Sa,opacity:ka,fillOpacity:ka,strokeOpacity:ka,numOctaves:Vi};var Hi=function(r){return Xi[r]};var zi=function(r){return typeof r.getBBox==="function"?r.getBBox():r.getBoundingClientRect()};var Bi=function(r){try{return zi(r)}catch(r){return{x:0,y:0,width:0,height:0}}};var Fi=qa({onRead:function(r,t){var e=t.element;if(!li(r)){return e.getAttribute(r)}else{var n=Hi(r);return n?n.default:0}},onRender:function(r,t){var e=t.dimensions,n=t.element,a=t.isPath,i=t.pathLength;Ka(n,Ii(r,e,a,i))}});var Di=function(r){var t=Bi(r);var e={element:r,dimensions:t,isPath:false};if(r.tagName==="path"){e.isPath=true;e.pathLength=r.getTotalLength()}return Fi(e)};var Ni=qa({useCache:false,onRead:function(r){return r==="scrollTop"?window.pageYOffset:window.pageXOffset},onRender:function(r){var t=r.scrollTop,e=t===void 0?0:t,n=r.scrollLeft,a=n===void 0?0:n;return window.scrollTo(a,e)}});var _i=new WeakMap;var Zi=function(r,t){var e;if(r instanceof HTMLElement){e=Li(r,t)}else if(r instanceof SVGElement){e=Di(r)}else if(r===window){e=Ni(r)}N(e!==undefined,"No valid node provided. Node must be HTMLElement, SVGElement or window.");_i.set(r,e);return e};var qi=function(r,t){return _i.has(r)?_i.get(r):Zi(r,t)};function Ui(r,t){var e=typeof r==="string"?document.querySelector(r):r;return qi(e,t)}var $i=e(function(t,e){var n=r&&r.__assign||function(){n=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a))r[a]=t[a]}return r};return n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:true});var a={onEnter:{translate:false,from:{opacity:0,scale:.5},to:{opacity:1,scale:1}},onChange:{translate:true},onExit:{from:{opacity:1,scale:1},to:{opacity:0,scale:.75},duration:200}};var i=function(){function r(r){var t=r.element,e=r.id;this.id=e;this.element=t;this.styler=Ui.default(t);this.firstRender=true;this.x=0;this.y=0;this.onEnterAnimations={from:{},to:{}};this.onChangeAnimations={from:{},to:{}};this.onExitAnimations={from:{},to:{}};this.element.style.transform="translateX(0px) translateY(0px)";this.element.setAttribute("data-gw-id",e.toString())}r.prototype.setCoords=function(r,t){this.x=r;this.y=t};return r}();var o=function(){function r(r){var t=this;this.addAfterStyle=function(r){if(r.target instanceof HTMLElement){r.target.setAttribute("data-gw-transition","true");r.target.removeEventListener("transitionend",t.addAfterStyle,true)}};if(!r)throw new Error("Missing mandatory parameters!");var e=r.container,n=r.childrenWidthInPx,i=r.enableResize,o=r.resizeDebounceInMs,u=r.margin,s=r.onEnter,f=r.onChange,c=r.onExit,v=r.springProperties,l=v===void 0?{stiffness:120,damping:14,mass:1}:v;this.missingParameter({container:e,childrenWidthInPx:n});this.container=e;this.childrenWidth=n;this.margin=u||"center";this.columnsHeight=[];this.childrenHeights={};this.childLastId=0;this.enableResize=i||false;this.resizeDebounceInMs=o||100;this.containerClassName="gw-container";this.onEnter=typeof s==="undefined"?a.onEnter:null;this.onChange=typeof f==="undefined"?a.onChange:null;this.onExit=typeof c==="undefined"?a.onExit:null;this.springProperties=l;this.addStyleToDOM();this.children=this.getInitialChildren();this.container.classList.add(this.containerClassName);this.containerWidth=this.container.clientWidth;this.columnsCount=Math.floor(this.containerWidth/this.childrenWidth);this.setChildrenWidth();this.setChildrenHeight();this.listenToResize();this.marginWidth=this.calculateMargin();this.addMutationObserverToContainer();this.addMutationObserverToChildren();this.reflow()}r.prototype.missingParameter=function(r){var t=[];Object.entries(r).forEach(function(r){var e=r[0],n=r[1];if(!n)t.push(e)});if(t.length>0){var e="parameter"+(t.length>1?"s":"");var n="Missing "+t.length+" mandatory "+e+":";t.forEach(function(r){return n+="\n  "+r});throw new Error(n)}};r.prototype.calculateMargin=function(){if(this.margin==="right")return 0;if(this.columnsCount<=1)return 0;var r=this.children.length>this.columnsCount?this.columnsCount:this.children.length;var t=this.containerWidth-r*this.childrenWidth;if(this.margin==="left")return t;return Math.floor(t/2)};r.debounce=function(r,t){var e;return function(){clearTimeout(e);e=setTimeout(r,t)}};r.prototype.listenToResize=function(){var t=this;if(this.enableResize){var e=this.resizeDebounceInMs;window.addEventListener("resize",r.debounce(function(){return t.resize(t.container.clientWidth)},e))}};r.prototype.setChildId=function(r){this.childLastId=this.childLastId+1;var t=this.childLastId.toString();r.element.setAttribute("data-gw-id",t);return t};r.prototype.setChildrenHeight=function(){var r=this;this.children.forEach(function(t){var e=t.element.getAttribute("data-gw-id");if(!e)e=r.setChildId(t);r.childrenHeights[e]=t.element.offsetHeight})};r.prototype.resetColumnsHeight=function(){this.columnsHeight=[]};r.prototype.addStyleToDOM=function(){var r=document.querySelector("head");if(r){var t=document.createElement("style");t.id="grid-wall-style";var e=document.createTextNode("/* grid-wall */"+("."+this.containerClassName+"{")+"  box-sizing:content-box;"+"}"+("."+this.containerClassName+">*{")+"  box-sizing:border-box;"+"  position:absolute;"+"}");t.appendChild(e);r.appendChild(t)}};r.setWidth=function(r,t){r.element.style.width=t+"px"};r.prototype.getInitialChildren=function(){var r=this;var t=[];if(this.container.children.length>0){Array.from(this.container.children).forEach(function(e){if(e instanceof HTMLElement){var n=new i({element:e,id:r.childLastId+1});n.firstRender=true;n.element.style.transform="translateX(0px) translateY(0px)";r.setChildId(n);t.push(n)}})}return t};r.prototype._addChild=function(r){this.childLastId=r.id;this.children.push(r)};r.prototype._handleRemoveChild=function(r){var t=this;if(this.onExit){r.setAttribute("data-gw-removing","true");this.container.appendChild(r);var e=n({},this.onExit.from);var a=n({},this.onExit.to);var i=this.onExit.duration||150;if(Object.keys(e).length>0&&Object.keys(a).length>0){var o=ba.tween({from:e,to:a,duration:i});o.start({update:function(t){return Ui.default(r).set(t)},complete:function(){r.setAttribute("data-gw-removing","false");r.remove();t._removeChild(r);t.reflow()}})}}else{this._removeChild(r)}};r.prototype._removeChild=function(r){var t=r.getAttribute("data-gw-id");this.children=this.children.filter(function(r){return r.element.getAttribute("data-gw-id")!==t})};r.prototype.setChildrenWidth=function(){var t=this;if(this.children.length>0){this.children.forEach(function(e){r.setWidth(e,t.childrenWidth)})}};r.prototype.addMutationObserverToContainer=function(){var r=this;var t=new MutationObserver(function(t){return r.handleContainerMutation(t)});t.observe(this.container,{childList:true})};r.prototype.addMutationObserverToChildren=function(){var r=this;if(this.children.length>0){this.children.forEach(function(t){var e=new MutationObserver(function(t){return r.handleChildrenMutation(t)});e.observe(t.element,{attributes:true})})}};r.prototype.getLowerColumn=function(){var r={index:0,height:0};if(this.columnsHeight.length>0){this.columnsHeight.forEach(function(t,e){if(r.height===0||r.height>t){r.height=t;r.index=e}})}return r};r.getMaxHeight=function(r){return Math.max.apply(Math,r)};r.prototype.reflow=function(){var t=this;this.resetColumnsHeight();this.marginWidth=this.calculateMargin();this.children.forEach(function(r,e){var n=e;var a=n*t.childrenWidth+t.marginWidth;var i=0;if((n+1)*t.childrenWidth>=t.containerWidth){var o=t.getLowerColumn();n=o.index;a=t.marginWidth+n*t.childrenWidth;i=o.height}t.columnsHeight[n]=Number.isInteger(t.columnsHeight[n])?t.columnsHeight[n]+r.element.offsetHeight:r.element.offsetHeight;t.moveChild({child:r,x:a,y:i});r.setCoords(a,i)});this.container.style.height=r.getMaxHeight(this.columnsHeight)+"px";this.setChildrenHeight()};r.prototype.moveChild=function(r){var t=r.child,e=r.x,a=r.y;var i=null;var o={};var u={};var s={};var f={};if(t.firstRender&&this.onEnter){o=n({},this.onEnter.from);u=n({},this.onEnter.to)}else if(this.onChange){o=n({},this.onChange.from);u=n({},this.onChange.to)}if(this.onChange&&this.onChange.translate&&!t.firstRender||this.onEnter&&this.onEnter.translate&&t.firstRender){if(e!==t.x||a!==t.y){var c={x:0,y:0};if(t.element.style.transform){var v=/translateX\((-?\d+)?.\w+\).+translateY\((-?\d+)?.\w+\)/;var l=t.element.style.transform.match(v);if(l&&l[1]&&l[2]){c.x=parseInt(l[1]);c.y=parseInt(l[2])}}s={x:c.x,y:c.y};f={x:e,y:a}}}else{t.styler.set({x:e,y:a})}o=n({},o,s);u=n({},u,f);if(Object.keys(o).length>0&&Object.keys(u).length>0){i=ba.spring(n({from:o,to:u},this.springProperties));if(t.animationStop&&!t.firstRender)t.animationStop.stop();if(e!==t.x||a!==t.y){t.animationStop=i.start({update:function(r){return t.styler.set(r)},complete:function(){return t.firstRender=false}})}}};r.prototype.resize=function(r){if(!r&&!Number.isNaN(r)){throw new Error("Width must be a number and more than 0")}this.containerWidth=r;this.columnsCount=Math.floor(this.containerWidth/this.childrenWidth);this.reflow()};r.prototype.handleChildrenMutation=function(r,t){var e=this;r.forEach(function(r){var t=r.target;var n=t.getAttribute("data-gw-id");if(n){var a=e.childrenHeights[n];if(a!==t.offsetHeight){e.reflow()}}});if(t&&typeof t==="function")t()};r.prototype.handleContainerMutation=function(t,e){var n=this;t.forEach(function(t){if(t.type==="childList"){t.addedNodes.forEach(function(t){if(t instanceof HTMLElement){if(t.getAttribute("data-gw-removing")==="true"){if(e&&typeof e==="function")e();return}var a=new i({element:t,id:n.childLastId+1});r.setWidth(a,n.childrenWidth);n._addChild(a)}});t.removedNodes.forEach(function(r){if(r instanceof HTMLElement){if(r.getAttribute("data-gw-removing")==="false"){if(e&&typeof e==="function")e();return}n._handleRemoveChild(r)}});n.reflow()}});if(e&&typeof e==="function")e()};return r}();e.default=o});var Gi=t($i);return Gi});